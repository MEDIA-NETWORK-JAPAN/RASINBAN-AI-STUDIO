<!--
================================================================================
【画面名称】管理者用 拠点詳細・編集画面 (Admin Team Detail)
【ファイル名】admin_team_detail.html

【概要】
管理者が特定の拠点（チーム）の詳細情報を確認・編集するための画面モックアップです。
Laravel Jetstream + Livewire の管理画面を想定したUIデザインとなっています。

【主な機能】
1. 基本情報・プラン設定
   - チーム名の編集
   - 契約プラン（Light/Standard/Pro）の変更
2. 所属ユーザー管理
   - ユーザー一覧の表示
   - 新規ユーザー追加（モーダル実装）
   - 既存ユーザー編集（モーダル実装）
   - ユーザー削除
3. APIキー管理
   - 接続用APIキーのマスク表示/復号表示（セキュリティ対策UI）
   - APIキーの再発行処理（確認モーダル付き）
4. 危険な操作エリア
   - チーム削除機能など

【使用ライブラリ (CDN)】
- Tailwind CSS (スタイリング)
- Alpine.js (モーダル制御、APIキー表示アニメーションなどのインタラクション)
- FontAwesome (アイコン)
================================================================================
-->
<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Team Management - Dify Gateway</title>

    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>

    <!-- Alpine.js -->
    <script src="https://cdn.jsdelivr.net/npm/alpinejs@3.13.3/dist/cdn.min.js"></script>

    <!-- Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+JP:wght@400;500;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

    <style>
        body { font-family: 'Noto Sans JP', sans-serif; }
        [x-cloak] { display: none !important; }
    </style>
</head>
<!--
    x-data: ページ全体の状態管理
    - sidebarOpen: モバイル用サイドバーの開閉
    - userModalOpen: ユーザー編集モーダルの開閉
    - addUserModalOpen: ユーザー追加モーダルの開閉
    - currentUser: 編集モーダルで表示するユーザー情報の一時保持用オブジェクト
-->
<body class="bg-gray-50 text-gray-800 antialiased" x-data="{ sidebarOpen: false, userModalOpen: false, addUserModalOpen: false, currentUser: {} }">

    <!-- ▼▼▼ Mobile Header (スマホ用ヘッダー) ▼▼▼ -->
    <div class="lg:hidden flex items-center justify-between bg-white border-b border-gray-200 px-4 py-3 sticky top-0 z-30">
        <div class="flex items-center gap-3">
            <button @click="sidebarOpen = !sidebarOpen" class="text-gray-500 hover:text-gray-700 focus:outline-none">
                <i class="fas fa-bars text-xl"></i>
            </button>
            <span class="font-bold text-lg text-gray-900">Gateway Admin</span>
        </div>
    </div>
    <!-- ▲▲▲ Mobile Header End ▲▲▲ -->

    <div class="flex h-screen overflow-hidden">

        <!-- ▼▼▼ Sidebar Navigation (サイドバー) ▼▼▼ -->
        <div x-show="sidebarOpen" @click="sidebarOpen = false" x-transition.opacity
             class="fixed inset-0 z-40 bg-gray-900/50 lg:hidden" x-cloak></div>

        <aside :class="sidebarOpen ? 'translate-x-0' : '-translate-x-full'"
               class="fixed inset-y-0 left-0 z-50 w-64 bg-white border-r border-gray-200 transform transition-transform duration-300 ease-in-out lg:static lg:translate-x-0 flex flex-col">

            <div class="h-16 flex items-center px-6 border-b border-gray-100">
                <div class="flex items-center gap-2 text-indigo-600">
                    <i class="fas fa-network-wired text-xl"></i>
                    <span class="font-bold text-xl tracking-tight text-gray-900">Gateway <span class="text-indigo-600">Admin</span></span>
                </div>
            </div>

            <nav class="flex-1 overflow-y-auto py-6 px-3 space-y-1">
                <p class="px-3 text-xs font-semibold text-gray-400 uppercase tracking-wider mb-2">Main</p>

                <a href="#" class="flex items-center gap-3 px-3 py-2.5 text-sm font-medium rounded-lg text-gray-600 hover:bg-gray-50 hover:text-gray-900 group transition-colors">
                    <i class="fas fa-chart-line w-5 text-center text-gray-400 group-hover:text-gray-600"></i>
                    ダッシュボード
                </a>

                <p class="px-3 text-xs font-semibold text-gray-400 uppercase tracking-wider mt-6 mb-2">Management</p>

                <a href="#" class="flex items-center gap-3 px-3 py-2.5 text-sm font-medium rounded-lg bg-indigo-50 text-indigo-700 group">
                    <i class="fas fa-building w-5 text-center group-hover:text-indigo-600"></i>
                    拠点・ユーザー管理
                </a>

                <a href="#" class="flex items-center gap-3 px-3 py-2.5 text-sm font-medium rounded-lg text-gray-600 hover:bg-gray-50 hover:text-gray-900 group transition-colors">
                    <i class="fas fa-robot w-5 text-center text-gray-400 group-hover:text-gray-600"></i>
                    Difyアプリ管理
                </a>

                <a href="#" class="flex items-center gap-3 px-3 py-2.5 text-sm font-medium rounded-lg text-gray-600 hover:bg-gray-50 hover:text-gray-900 group transition-colors">
                    <i class="fas fa-file-invoice-dollar w-5 text-center text-gray-400 group-hover:text-gray-600"></i>
                    利用状況・制限
                </a>

                <p class="px-3 text-xs font-semibold text-gray-400 uppercase tracking-wider mt-6 mb-2">System</p>

                <a href="#" class="flex items-center gap-3 px-3 py-2.5 text-sm font-medium rounded-lg text-gray-600 hover:bg-gray-50 hover:text-gray-900 group transition-colors">
                    <i class="fas fa-server w-5 text-center text-gray-400 group-hover:text-gray-600"></i>
                    災害復旧 (DR)
                </a>
            </nav>

            <div class="p-4 border-t border-gray-100">
                <div class="flex items-center gap-3">
                    <img src="https://ui-avatars.com/api/?name=Admin+User&background=6366f1&color=fff" alt="Admin" class="h-9 w-9 rounded-full object-cover shadow-sm">
                    <div class="flex-1 min-w-0">
                        <p class="text-sm font-medium text-gray-900 truncate">Admin User</p>
                        <p class="text-xs text-gray-500 truncate">admin@example.com</p>
                    </div>
                    <a href="#" class="text-gray-400 hover:text-gray-600">
                        <i class="fas fa-sign-out-alt"></i>
                    </a>
                </div>
            </div>
        </aside>
        <!-- ▲▲▲ Sidebar End ▲▲▲ -->

        <!-- Main Content Wrapper -->
        <div class="flex-1 flex flex-col overflow-hidden bg-gray-50">

            <!-- Breadcrumb Header -->
            <header class="bg-white border-b border-gray-200 px-8 py-4 flex items-center justify-between">
                <div>
                    <nav class="flex" aria-label="Breadcrumb">
                        <ol class="flex items-center space-x-2">
                            <li><a href="#" class="text-gray-400 hover:text-gray-500"><i class="fas fa-home"></i></a></li>
                            <li><span class="text-gray-300">/</span></li>
                            <li><a href="#" class="text-sm font-medium text-gray-500 hover:text-gray-700">拠点管理</a></li>
                            <li><span class="text-gray-300">/</span></li>
                            <li><span class="text-sm font-medium text-gray-800" aria-current="page">東京本社 営業部</span></li>
                        </ol>
                    </nav>
                    <h1 class="text-xl font-bold text-gray-800 mt-1">拠点編集: 東京本社 営業部</h1>
                </div>

                <div class="flex gap-3">
                    <button class="px-4 py-2 bg-white border border-gray-300 rounded-lg text-sm font-medium text-gray-700 hover:bg-gray-50 shadow-sm">キャンセル</button>
                    <button class="px-4 py-2 bg-indigo-600 rounded-lg text-sm font-medium text-white hover:bg-indigo-700 shadow-sm">変更を保存</button>
                </div>
            </header>

            <!-- Main Scrollable Content -->
            <main class="flex-1 overflow-y-auto p-4 lg:p-8">

                <div class="max-w-4xl mx-auto space-y-6">

                    <!-- ▼▼▼ Section 1: Basic Info & Plan (基本情報・プラン設定) ▼▼▼ -->
                    <div class="bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden">
                        <div class="px-6 py-4 border-b border-gray-100 bg-gray-50">
                            <h2 class="text-base font-bold text-gray-800 flex items-center gap-2">
                                <i class="fas fa-info-circle text-gray-400"></i> 基本情報・プラン設定
                            </h2>
                        </div>
                        <div class="p-6 grid grid-cols-1 md:grid-cols-2 gap-6">
                            <div class="col-span-2 md:col-span-1">
                                <label class="block text-sm font-medium text-gray-700 mb-1">チーム名 (拠点名)</label>
                                <input type="text" value="東京本社 営業部" class="w-full rounded-lg border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 text-sm py-2 px-3 border">
                            </div>

                            <div class="col-span-2 md:col-span-1">
                                <label class="block text-sm font-medium text-gray-700 mb-1">契約プラン</label>
                                <select class="w-full rounded-lg border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 text-sm py-2 px-3 border bg-white">
                                    <option value="light">Light Plan (30k req/mo)</option>
                                    <option value="standard" selected>Standard Plan (100k req/mo)</option>
                                    <option value="pro">Pro Plan (500k req/mo)</option>
                                </select>
                                <p class="mt-1 text-xs text-gray-500">※プラン変更は即時適用されます。</p>
                            </div>
                        </div>
                    </div>
                    <!-- ▲▲▲ Section 1 End ▲▲▲ -->

                    <!-- ▼▼▼ Section 2: Team Members (所属ユーザー管理) ▼▼▼ -->
                    <div class="bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden">
                        <div class="px-6 py-4 border-b border-gray-100 bg-gray-50 flex items-center justify-between">
                            <h2 class="text-base font-bold text-gray-800 flex items-center gap-2">
                                <i class="fas fa-users text-gray-400"></i> 所属ユーザー管理 (3名)
                            </h2>
                            <!-- Trigger: Add User Modal -->
                            <button @click="addUserModalOpen = true" class="text-sm text-indigo-600 hover:text-indigo-800 font-medium flex items-center gap-1">
                                <i class="fas fa-plus"></i> ユーザー追加
                            </button>
                        </div>

                        <div class="overflow-x-auto">
                            <table class="w-full text-sm text-left">
                                <thead class="text-xs text-gray-500 uppercase bg-gray-50 border-b border-gray-100">
                                    <tr>
                                        <th class="px-6 py-3 font-medium">ユーザー名 / メール</th>
                                        <th class="px-6 py-3 font-medium">登録日</th>
                                        <th class="px-6 py-3 text-right">操作</th>
                                    </tr>
                                </thead>
                                <tbody class="divide-y divide-gray-100">
                                    <!-- User Row 1 -->
                                    <tr class="hover:bg-gray-50/50 transition-colors">
                                        <td class="px-6 py-4">
                                            <div class="flex items-center gap-3">
                                                <img src="https://ui-avatars.com/api/?name=Tanaka+Taro&background=random" class="h-9 w-9 rounded-full object-cover">
                                                <div>
                                                    <div class="font-medium text-gray-900">田中 太郎</div>
                                                    <div class="text-gray-500 text-xs">taro.tanaka@example.com</div>
                                                </div>
                                            </div>
                                        </td>
                                        <td class="px-6 py-4 text-gray-500">2023-10-01</td>
                                        <td class="px-6 py-4 text-right">
                                            <!-- Trigger: Edit User Modal (Set current user data) -->
                                            <button @click="userModalOpen = true; currentUser = {name: '田中 太郎', email: 'taro.tanaka@example.com'}" class="text-indigo-600 hover:text-indigo-900 font-medium text-xs px-2 py-1 rounded hover:bg-indigo-50 transition-colors">
                                                編集
                                            </button>
                                        </td>
                                    </tr>
                                    <!-- User Row 2 -->
                                    <tr class="hover:bg-gray-50/50 transition-colors">
                                        <td class="px-6 py-4">
                                            <div class="flex items-center gap-3">
                                                <img src="https://ui-avatars.com/api/?name=Suzuki+Jiro&background=random&color=333" class="h-9 w-9 rounded-full object-cover">
                                                <div>
                                                    <div class="font-medium text-gray-900">鈴木 次郎</div>
                                                    <div class="text-gray-500 text-xs">jiro.suzuki@example.com</div>
                                                </div>
                                            </div>
                                        </td>
                                        <td class="px-6 py-4 text-gray-500">2023-11-15</td>
                                        <td class="px-6 py-4 text-right flex items-center justify-end gap-2">
                                            <button @click="userModalOpen = true; currentUser = {name: '鈴木 次郎', email: 'jiro.suzuki@example.com'}" class="text-indigo-600 hover:text-indigo-900 font-medium text-xs px-2 py-1 rounded hover:bg-indigo-50 transition-colors">
                                                編集
                                            </button>
                                            <button class="text-red-600 hover:text-red-900 font-medium text-xs px-2 py-1 rounded hover:bg-red-50 transition-colors">
                                                削除
                                            </button>
                                        </td>
                                    </tr>
                                    <!-- User Row 3 -->
                                    <tr class="hover:bg-gray-50/50 transition-colors">
                                        <td class="px-6 py-4">
                                            <div class="flex items-center gap-3">
                                                <img src="https://ui-avatars.com/api/?name=Sato+Hanako&background=random&color=333" class="h-9 w-9 rounded-full object-cover">
                                                <div>
                                                    <div class="font-medium text-gray-900">佐藤 花子</div>
                                                    <div class="text-gray-500 text-xs">hanako.sato@example.com</div>
                                                </div>
                                            </div>
                                        </td>
                                        <td class="px-6 py-4 text-gray-500">2024-01-20</td>
                                        <td class="px-6 py-4 text-right flex items-center justify-end gap-2">
                                            <button @click="userModalOpen = true; currentUser = {name: '佐藤 花子', email: 'hanako.sato@example.com'}" class="text-indigo-600 hover:text-indigo-900 font-medium text-xs px-2 py-1 rounded hover:bg-indigo-50 transition-colors">
                                                編集
                                            </button>
                                            <button class="text-red-600 hover:text-red-900 font-medium text-xs px-2 py-1 rounded hover:bg-red-50 transition-colors">
                                                削除
                                            </button>
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                    <!-- ▲▲▲ Section 2 End ▲▲▲ -->

                    <!-- ▼▼▼ Section 3: API Key Management (APIキー管理) ▼▼▼ -->
                    <div class="bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden"
                         x-data="{
                            showKey: false,
                            loading: false,
                            modalOpen: false,
                            displayValue: 'demo_key_********************',
                            realValue: 'demo_key_v8a9s8d7f6g5h4j3k2l1m0n9',

                            revealKey() {
                                this.loading = true;
                                setTimeout(() => {
                                    this.displayValue = this.realValue;
                                    this.showKey = true;
                                    this.loading = false;
                                }, 800);
                            },

                            regenerateKey() {
                                this.modalOpen = false;
                                this.loading = true;
                                setTimeout(() => {
                                    this.realValue = 'demo_key_' + Math.random().toString(36).substr(2, 20);
                                    this.displayValue = this.realValue;
                                    this.showKey = true;
                                    this.loading = false;
                                }, 1000);
                            }
                         }">

                        <div class="px-6 py-4 border-b border-gray-100 bg-indigo-50">
                            <h2 class="text-base font-bold text-indigo-900 flex items-center gap-2">
                                <i class="fas fa-key text-indigo-500"></i> 接続用APIキー管理
                            </h2>
                        </div>

                        <div class="p-6">
                            <p class="text-sm text-gray-600 mb-4">
                                オンプレミスシステムからこのゲートウェイに接続するための固定APIキーです。<br>
                                <span class="text-red-500 text-xs font-bold"><i class="fas fa-exclamation-triangle"></i> キーは外部に漏洩しないよう厳重に管理してください。</span>
                            </p>

                            <div class="relative">
                                <div class="flex items-center border rounded-lg overflow-hidden bg-gray-50 border-gray-300 relative">
                                    <div class="flex-1 px-4 py-3 font-mono text-sm text-gray-700 tracking-wider overflow-x-auto whitespace-nowrap"
                                         :class="showKey ? 'bg-white' : 'bg-gray-100 text-gray-500'">
                                        <span x-text="displayValue"></span>
                                    </div>

                                    <div class="flex items-center border-l border-gray-300 bg-white">
                                        <button x-show="showKey"
                                                class="px-4 py-3 text-gray-500 hover:text-indigo-600 hover:bg-gray-50 transition-colors border-r border-gray-300"
                                                title="コピー">
                                            <i class="far fa-copy"></i>
                                        </button>

                                        <button x-show="!showKey" @click="revealKey()"
                                                class="px-4 py-3 text-sm font-medium text-indigo-600 hover:text-indigo-800 hover:bg-indigo-50 transition-colors flex items-center gap-2">
                                            <template x-if="loading">
                                                <i class="fas fa-circle-notch fa-spin"></i>
                                            </template>
                                            <template x-if="!loading">
                                                <i class="far fa-eye"></i>
                                            </template>
                                            <span>表示する</span>
                                        </button>

                                        <button @click="modalOpen = true"
                                                class="px-4 py-3 text-sm font-medium text-red-600 hover:text-red-800 hover:bg-red-50 transition-colors border-l border-gray-300">
                                            <i class="fas fa-sync-alt"></i> 再発行
                                        </button>
                                    </div>
                                </div>
                                <div x-show="loading" class="absolute inset-0 bg-white/50 z-10 cursor-wait"></div>
                            </div>

                            <p class="mt-2 text-xs text-gray-400 text-right">最終利用: 2023-10-25 14:30:22</p>
                        </div>

                        <!--
                            ▼▼▼ Component: API Key Regenerate Confirm Modal (キー再発行確認モーダル) ▼▼▼
                            ※このモーダルは x-data 内でローカルに管理されています
                        -->
                        <div x-show="modalOpen" class="fixed inset-0 z-50 overflow-y-auto" aria-labelledby="modal-title" role="dialog" aria-modal="true" x-cloak>
                            <div class="flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0">
                                <div class="fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity" @click="modalOpen = false"></div>
                                <span class="hidden sm:inline-block sm:align-middle sm:h-screen" aria-hidden="true">&#8203;</span>
                                <div class="inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full">
                                    <div class="bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4">
                                        <div class="sm:flex sm:items-start">
                                            <div class="mx-auto flex-shrink-0 flex items-center justify-center h-12 w-12 rounded-full bg-red-100 sm:mx-0 sm:h-10 sm:w-10">
                                                <i class="fas fa-exclamation-triangle text-red-600"></i>
                                            </div>
                                            <div class="mt-3 text-center sm:mt-0 sm:ml-4 sm:text-left">
                                                <h3 class="text-lg leading-6 font-medium text-gray-900" id="modal-title">APIキーを再発行しますか？</h3>
                                                <div class="mt-2">
                                                    <p class="text-sm text-gray-500">
                                                        現在のAPIキーは直ちに無効化され、新しいキーが生成されます。<br>
                                                        <strong>オンプレミス側の設定変更が必要になります。</strong>この操作は元に戻せません。
                                                    </p>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="bg-gray-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse">
                                        <button @click="regenerateKey()" type="button" class="w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-red-600 text-base font-medium text-white hover:bg-red-700 focus:outline-none sm:ml-3 sm:w-auto sm:text-sm">
                                            再発行する
                                        </button>
                                        <button @click="modalOpen = false" type="button" class="mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none sm:mt-0 sm:ml-3 sm:w-auto sm:text-sm">
                                            キャンセル
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <!-- ▲▲▲ API Key Confirm Modal End ▲▲▲ -->
                    </div>
                    <!-- ▲▲▲ Section 3 End ▲▲▲ -->

                    <!-- ▼▼▼ Section 4: Danger Zone (危険エリア) ▼▼▼ -->
                    <div class="border border-red-200 rounded-xl overflow-hidden">
                        <div class="px-6 py-4 bg-red-50 flex items-center justify-between">
                            <h2 class="text-sm font-bold text-red-800">危険な操作エリア</h2>
                        </div>
                        <div class="p-6 bg-white flex items-center justify-between">
                            <div>
                                <h3 class="text-sm font-medium text-gray-900">チームの削除</h3>
                                <p class="text-xs text-gray-500 mt-1">このチームとそのすべての利用データを完全に削除します。</p>
                            </div>
                            <button class="px-4 py-2 border border-red-300 text-red-700 rounded-lg text-sm hover:bg-red-50 font-medium">削除する</button>
                        </div>
                    </div>
                    <!-- ▲▲▲ Section 4 End ▲▲▲ -->

                </div>

            </main>
        </div>
    </div>

    <!--
    ============================================================================
    ▼▼▼ Component: User Add Modal (新規ユーザー追加モーダル) ▼▼▼

    [概要]
    新規ユーザーを追加するためのポップアップウィンドウ。
    x-show="addUserModalOpen" で表示/非表示を制御。

    [構成要素]
    1. Overlay (背景): bg-gray-500, クリックで閉じる
    2. Modal Panel (本体): bg-white, 中央配置
    3. Form Content: 名前、Email、パスワード入力欄
    4. Action Buttons: 追加/キャンセル
    ============================================================================
    -->
    <div x-show="addUserModalOpen" class="fixed inset-0 z-50 overflow-y-auto" aria-labelledby="modal-title" role="dialog" aria-modal="true" x-cloak>
        <div class="flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0">
            <!-- 1. Overlay Background -->
            <div class="fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity" @click="addUserModalOpen = false" x-transition.opacity></div>

            <span class="hidden sm:inline-block sm:align-middle sm:h-screen" aria-hidden="true">&#8203;</span>

            <!-- 2. Modal Panel -->
            <div class="inline-block align-bottom bg-white rounded-xl text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full"
                 x-transition:enter="ease-out duration-300"
                 x-transition:enter-start="opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95"
                 x-transition:enter-end="opacity-100 translate-y-0 sm:scale-100"
                 x-transition:leave="ease-in duration-200"
                 x-transition:leave-start="opacity-100 translate-y-0 sm:scale-100"
                 x-transition:leave-end="opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95">

                <!-- 3. Form Content -->
                <div class="bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4">
                    <div class="sm:flex sm:items-start">
                        <div class="mx-auto flex-shrink-0 flex items-center justify-center h-12 w-12 rounded-full bg-indigo-100 sm:mx-0 sm:h-10 sm:w-10">
                            <i class="fas fa-user-plus text-indigo-600"></i>
                        </div>
                        <div class="mt-3 text-center sm:mt-0 sm:ml-4 sm:text-left w-full">
                            <h3 class="text-lg leading-6 font-medium text-gray-900">新規ユーザー追加</h3>
                            <div class="mt-4 space-y-4">
                                <div>
                                    <label class="block text-sm font-medium text-gray-700">お名前</label>
                                    <input type="text" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm border py-2 px-3" placeholder="例: 山田 太郎">
                                </div>

                                <div>
                                    <label class="block text-sm font-medium text-gray-700">メールアドレス</label>
                                    <input type="email" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm border py-2 px-3" placeholder="例: taro.yamada@example.com">
                                </div>

                                <div>
                                    <label class="block text-sm font-medium text-gray-700">初期パスワード</label>
                                    <input type="password" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm border py-2 px-3" placeholder="例: Admin@2024">
                                    <p class="text-xs text-gray-500 mt-1">※10文字以上、小文字・大文字・数字・記号を全て含めてください。</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <!-- 4. Action Buttons -->
                <div class="bg-gray-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse">
                    <button @click="addUserModalOpen = false" type="button" class="w-full inline-flex justify-center rounded-lg border border-transparent shadow-sm px-4 py-2 bg-indigo-600 text-base font-medium text-white hover:bg-indigo-700 focus:outline-none sm:ml-3 sm:w-auto sm:text-sm">
                        追加する
                    </button>
                    <button @click="addUserModalOpen = false" type="button" class="mt-3 w-full inline-flex justify-center rounded-lg border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none sm:mt-0 sm:ml-3 sm:w-auto sm:text-sm">
                        キャンセル
                    </button>
                </div>
            </div>
        </div>
    </div>
    <!-- ▲▲▲ User Add Modal End ▲▲▲ -->

    <!--
    ============================================================================
    ▼▼▼ Component: User Edit Modal (ユーザー編集モーダル) ▼▼▼

    [概要]
    既存ユーザーの情報を編集するためのポップアップウィンドウ。
    x-show="userModalOpen" で表示/非表示を制御。
    currentUser 変数にバインドされたデータをフォームに展開する。
    ============================================================================
    -->
    <div x-show="userModalOpen" class="fixed inset-0 z-50 overflow-y-auto" aria-labelledby="modal-title" role="dialog" aria-modal="true" x-cloak>
        <div class="flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0">
            <!-- Overlay -->
            <div class="fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity" @click="userModalOpen = false" x-transition.opacity></div>

            <span class="hidden sm:inline-block sm:align-middle sm:h-screen" aria-hidden="true">&#8203;</span>

            <!-- Modal Panel -->
            <div class="inline-block align-bottom bg-white rounded-xl text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full"
                 x-transition:enter="ease-out duration-300"
                 x-transition:enter-start="opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95"
                 x-transition:enter-end="opacity-100 translate-y-0 sm:scale-100"
                 x-transition:leave="ease-in duration-200"
                 x-transition:leave-start="opacity-100 translate-y-0 sm:scale-100"
                 x-transition:leave-end="opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95">

                <div class="bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4">
                    <div class="sm:flex sm:items-start">
                        <div class="mx-auto flex-shrink-0 flex items-center justify-center h-12 w-12 rounded-full bg-indigo-100 sm:mx-0 sm:h-10 sm:w-10">
                            <i class="fas fa-user-edit text-indigo-600"></i>
                        </div>
                        <div class="mt-3 text-center sm:mt-0 sm:ml-4 sm:text-left w-full">
                            <h3 class="text-lg leading-6 font-medium text-gray-900" id="modal-title">ユーザー情報の編集</h3>
                            <div class="mt-4 space-y-4">
                                <div>
                                    <label for="edit-name" class="block text-sm font-medium text-gray-700">お名前</label>
                                    <!-- x-bind:value で現在選択中のユーザー名を表示 -->
                                    <input type="text" id="edit-name" :value="currentUser.name || ''" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm border py-2 px-3">
                                </div>

                                <div>
                                    <label for="edit-email" class="block text-sm font-medium text-gray-700">メールアドレス</label>
                                    <input type="email" id="edit-email" :value="currentUser.email || ''" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm border py-2 px-3">
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="bg-gray-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse">
                    <button @click="userModalOpen = false" type="button" class="w-full inline-flex justify-center rounded-lg border border-transparent shadow-sm px-4 py-2 bg-indigo-600 text-base font-medium text-white hover:bg-indigo-700 focus:outline-none sm:ml-3 sm:w-auto sm:text-sm">
                        保存する
                    </button>
                    <button @click="userModalOpen = false" type="button" class="mt-3 w-full inline-flex justify-center rounded-lg border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none sm:mt-0 sm:ml-3 sm:w-auto sm:text-sm">
                        キャンセル
                    </button>
                </div>
            </div>
        </div>
    </div>
    <!-- ▲▲▲ User Edit Modal End ▲▲▲ -->

</body>
</html>
