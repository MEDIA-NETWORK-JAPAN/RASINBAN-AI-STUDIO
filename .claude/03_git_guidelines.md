# Git運用ガイドライン

このドキュメントはプロジェクトのGit運用規約を定義します。

## コミットメッセージ規約

### フォーマット

```
{プレフィックス}: {タイトル}

【カテゴリ1】
- 変更内容1
- 変更内容2

【カテゴリ2】
- 変更内容3

Co-Authored-By: Claude Opus 4.5 <noreply@anthropic.com>
```

### プレフィックス一覧

| プレフィックス | 用途 |
|---------------|------|
| `追加` | 新機能、新ファイルの追加 |
| `修正` | バグ修正 |
| `変更` | 既存機能の変更・改善 |
| `削除` | ファイル、機能の削除 |
| `リファクタ` | コード整理（機能変更なし） |
| `ドキュメント` | ドキュメントのみの変更 |
| `テスト` | テストコードの追加・修正 |
| `設定` | 設定ファイルの変更 |
| `依存関係` | パッケージの追加・更新・削除 |

### カテゴリ例

| カテゴリ | 内容 |
|---------|------|
| 【環境構築】 | 開発環境、インフラ関連 |
| 【開発支援】 | ツール、ドキュメント |
| 【ドキュメント】 | 仕様書、README等 |
| 【機能】 | アプリケーション機能 |
| 【UI】 | 画面、コンポーネント |
| 【API】 | APIエンドポイント |
| 【DB】 | マイグレーション、シーダー |
| 【テスト】 | テストコード |
| 【セキュリティ】 | セキュリティ関連 |
| 【パフォーマンス】 | 性能改善 |

### 例

#### 機能追加
```
追加: 拠点一覧画面の実装

【機能】
- 拠点の検索・フィルタリング
- ページネーション対応
- 新規作成モーダル

【UI】
- DataTableコンポーネント
- SearchBarコンポーネント

Co-Authored-By: Claude Opus 4.5 <noreply@anthropic.com>
```

#### バグ修正
```
修正: 拠点削除時のエラー対応

【機能】
- 関連ユーザーの事前チェック追加
- トランザクション処理の修正

【テスト】
- 削除失敗ケースのテスト追加

Co-Authored-By: Claude Opus 4.5 <noreply@anthropic.com>
```

#### リファクタリング
```
リファクタ: チーム関連処理の共通化

【機能】
- TeamServiceクラスの抽出
- 重複コードの統合

Co-Authored-By: Claude Opus 4.5 <noreply@anthropic.com>
```

## ブランチ運用

### ブランチ命名規則

| パターン | 用途 | 例 |
|---------|------|-----|
| `feature/{機能名}` | 新機能開発 | `feature/team-management` |
| `fix/{issue番号または内容}` | バグ修正 | `fix/login-error` |
| `refactor/{対象}` | リファクタリング | `refactor/team-service` |
| `docs/{内容}` | ドキュメント | `docs/api-specification` |

### 基本フロー

1. `main` から作業ブランチを作成
2. 作業ブランチで開発・コミット
3. Pull Request を作成
4. レビュー後 `main` にマージ

## AI（Claude）との協業時の注意

- コミットメッセージにはAIが生成したことを示す `Co-Authored-By` を付与
- AIに依頼する際は「コミットメッセージを提案して」と指示
- AIが提案したメッセージは必要に応じて調整可能
