# テストケース定義書

## 1. 概要

### 1.1 ドキュメントの目的

本ドキュメントは、rasinban-ai-studioプロジェクトにおける **Bladeコンポーネント単体テスト** の受入条件とテストケースを定義します。

### 1.2 対象範囲

- **対象コンポーネント:** 全25個のBladeコンポーネント（Layout, Navigation, Data Display, Forms, Buttons, Modals, Feedback）
- **テストアプローチ:** Blade表示テスト + Livewire連携テスト
- **テスト対象:**
  - Props通りのHTML出力検証
  - Tailwindクラスの適用確認
  - Livewire連携（wire:model, wire:click等）
  - 状態管理と再レンダリング
  - フォームバリデーション
  - 主要なインタラクション（クリック、ホバー、フォーカス）
  - エッジケース（空データ、境界値、極端な値）

- **テスト対象外:**
  - Alpine.jsの詳細なアニメーション検証
  - ビジュアルレグレッションテスト（HTMLモック参照で代替）
  - 詳細なアクセシビリティテスト（基本的なtitle属性、sr-onlyのみ含む）
  - パフォーマンス詳細測定

### 1.3 総テストケース数

- **総ケース数:** 約250-375ケース（標準版: 各コンポーネント10-15ケース）
- **優先度別内訳:**
  - **High:** 約100ケース（主要機能、クリティカルな状態、頻繁に使用）
  - **Medium:** 約100ケース（サブバリエーション、重要だが必須ではない機能）
  - **Low:** 約50-75ケース（エッジケース、細かい調整、将来的な対応）

---

## 2. テスト戦略

### 2.1 テストアプローチ

各コンポーネントに対して **標準版テスト（10-15ケース/コンポーネント）** を実施します。

#### テスト種別

1. **Blade表示テスト（Unit Test）**
   - Props検証、条件分岐ロジック
   - BladeコンポーネントのViewをレンダリングしてHTML検証

2. **Livewire連携テスト（Component Test）**
   - wire:model の双方向バインディング
   - wire:click イベントの発火
   - 状態変更時の再レンダリング

3. **インタラクションテスト**
   - クリックイベント、ホバー時のスタイル変更
   - フォーカス時のリング色
   - モーダル開閉トリガー

### 2.2 優先度付け

| 優先度 | 条件 | 実装タイミング |
|--------|------|--------------|
| **High** | 主要機能、クリティカルな状態、頻繁に使用される機能 | Phase 1（Week 1-2） |
| **Medium** | バリエーション、サブ機能、重要だが必須ではない機能 | Phase 2（Week 3-4） |
| **Low** | エッジケース、細かい調整、将来的な対応 | Phase 3（Week 5-6） |

### 2.3 実装フロー

1. **Phase 1（High優先度）:** Button, TextInput, SelectInput, Modal
2. **Phase 2（Medium優先度）:** DataTable, Pagination, StatusBadge, ProgressBar, AppLayout, Sidebar
3. **Phase 3（Low優先度）:** Feedback系（Toast, AlertBanner, LogConsole）、特殊コンポーネント（FileDropzone, ConfirmModal, ApiKeyField）

---

## 3. テスト環境

### 3.1 テストフレームワーク

- **PHPUnit:** 11.5.3
- **Livewire Testing:** Livewire 4.x組み込み
- **Laravel Testing:** Laravel 12.x Testing Utilities

### 3.2 テスト実行コマンド

```bash
# 全テスト実行
vendor/bin/sail artisan test --compact

# 特定ファイルのみ実行
vendor/bin/sail artisan test --compact tests/Feature/Components/ButtonTest.php

# 特定テスト名でフィルタ
vendor/bin/sail artisan test --compact --filter=testButtonRendersWithPrimaryVariant
```

### 3.3 環境変数

テスト環境の設定は `phpunit.xml` を参照してください。

---

## 4. 受入条件（Acceptance Criteria）

### 4.1 受入条件テンプレート

各コンポーネントの受入条件を以下の6カテゴリに分けて定義：

1. **AC1: 基本表示（Props検証）** - Props通りの表示、バリエーション
2. **AC2: インタラクション** - クリック、ホバー、フォーカス等
3. **AC3: 状態管理（Livewire連携）** - wire:model, wire:click, 再レンダリング
4. **AC4: バリデーション** - 入力検証、エラー表示、制限値
5. **AC5: エッジケース** - 空データ、極端な値、境界値
6. **AC6: レスポンシブ・アクセシビリティ** - モバイル/デスクトップ、基本的なa11y

**注:** コンポーネントの性質により一部カテゴリは省略可能

### 4.2 AC-IDの採番ルール

**形式:** `AC-{コンポーネント略称}-{カテゴリ番号}{連番}`

**カテゴリ番号:**
- 0xx: 基本表示
- 1xx: インタラクション
- 2xx: 状態管理
- 3xx: バリデーション
- 4xx: エッジケース
- 5xx: レスポンシブ・アクセシビリティ

**例:** `AC-BTN-001`, `AC-BTN-101`, `AC-TBL-201`

### 4.3 カテゴリ別受入条件

---

#### 4.3.1 Button コンポーネント

**概要:**
汎用ボタンコンポーネント。4つのバリエーション（Primary, Secondary, Danger, Ghost）と3つのサイズ（sm, md, lg）をサポート。使用画面: A02, A03, A04, A05, A06, A08, A09

**受入条件:**

##### AC1: 基本表示（Props検証）
- AC-BTN-001: Props `variant="primary"` を設定した場合、`bg-indigo-600` が適用される【High】
- AC-BTN-002: Props `variant="secondary"` を設定した場合、`border-gray-300` と `bg-white` が適用される【High】
- AC-BTN-003: Props `variant="danger"` を設定した場合、`bg-red-600` が適用される【High】
- AC-BTN-004: Props `variant="ghost"` を設定した場合、`text-indigo-600` が適用され、背景色は設定されない【Medium】
- AC-BTN-005: Props `size="sm"` を設定した場合、`px-3 py-1.5 text-xs` が適用される【Medium】
- AC-BTN-006: Props `size="md"` を設定した場合、`px-4 py-2 text-sm` が適用される【High】
- AC-BTN-007: Props `size="lg"` を設定した場合、`px-6 py-3 text-base` が適用される【Medium】
- AC-BTN-008: Props `icon` を設定した場合、FontAwesomeアイコンが表示される【Medium】
- AC-BTN-009: Props `iconPosition="right"` を設定した場合、アイコンがテキストの右側に配置される【Low】

##### AC2: インタラクション
- AC-BTN-101: ボタンをクリックした場合、クリックイベントが発火する【High】
- AC-BTN-102: Props `disabled=true` を設定した場合、`opacity-50` と `cursor-not-allowed` が適用され、クリックイベントが発火しない【High】
- AC-BTN-103: ホバー時、バリエーションに応じた適切なホバー色が適用される（Primary: `hover:bg-indigo-700`）【Medium】
- AC-BTN-104: フォーカス時、`focus:ring-2` と適切なリング色が適用される【Medium】

##### AC3: 状態管理（Livewire連携）
- AC-BTN-201: Props `loading=true` を設定した場合、ローディングアイコン（fa-circle-notch fa-spin）が表示され、ボタンが無効化される【High】

##### AC5: エッジケース
- AC-BTN-401: スロット内容が空の場合でも、ボタンが正しくレンダリングされる【Low】

##### AC6: レスポンシブ・アクセシビリティ
- AC-BTN-501: `title` 属性を設定した場合、ツールチップとして表示される【Low】

---

#### 4.3.2 IconButton コンポーネント

**概要:**
アイコンのみのボタン。テーブル内のアクション（編集、削除、コピー）などに使用。使用画面: A01, A02, A03, A05, A06, A07

**受入条件:**

##### AC1: 基本表示（Props検証）
- AC-IBTN-001: Props `icon` を設定した場合、指定したFontAwesomeアイコンが表示される【High】
- AC-IBTN-002: Props `color="indigo"` を設定した場合、`hover:text-indigo-600` が適用される【High】
- AC-IBTN-003: Props `color="red"` を設定した場合、`hover:text-red-600` が適用される【High】
- AC-IBTN-004: Props `color="gray"` を設定した場合、`hover:text-gray-600` が適用される【Medium】
- AC-IBTN-005: デフォルト状態では `text-gray-400` が適用される【Medium】

##### AC2: インタラクション
- AC-IBTN-101: ボタンをクリックした場合、クリックイベントが発火する【High】
- AC-IBTN-102: ホバー時、Props `color` に応じた色変化が発生する【Medium】

##### AC6: レスポンシブ・アクセシビリティ
- AC-IBTN-501: Props `title` を設定した場合、ツールチップとして表示される【High】

---

#### 4.3.3 TextInput コンポーネント

**概要:**
テキスト入力フィールド。ラベル、ヒントテキスト、バリデーション対応。使用画面: A02, A03, A04, A06, A07

**受入条件:**

##### AC1: 基本表示（Props検証）
- AC-TI-001: Props `label` を設定した場合、ラベルが表示される【High】
- AC-TI-002: Props `type="email"` を設定した場合、`type="email"` の input 要素が生成される【High】
- AC-TI-003: Props `placeholder` を設定した場合、プレースホルダーが表示される【Medium】
- AC-TI-004: Props `value` を設定した場合、初期値が表示される【High】
- AC-TI-005: Props `required=true` を設定した場合、`required` 属性が付与される【High】
- AC-TI-006: Props `hint` を設定した場合、ヒントテキストが `text-xs text-gray-400` で表示される【Medium】
- AC-TI-007: デフォルトでは `type="text"` が適用される【Medium】

##### AC2: インタラクション
- AC-TI-101: フォーカス時、`focus:border-indigo-500` と `focus:ring-indigo-500` が適用される【Medium】

##### AC3: 状態管理（Livewire連携）
- AC-TI-201: `wire:model` を設定した場合、入力内容がLivewireプロパティと双方向バインディングされる【High】
- AC-TI-202: Livewireプロパティが変更された場合、入力値が再レンダリングされる【High】

##### AC5: エッジケース
- AC-TI-401: Props `hint` が未設定の場合、ヒントテキストは表示されない【Low】

---

#### 4.3.4 SelectInput コンポーネント

**概要:**
セレクトボックス。オプション配列からドロップダウンリストを生成。使用画面: A02, A03, A07

**受入条件:**

##### AC1: 基本表示（Props検証）
- AC-SEL-001: Props `label` を設定した場合、ラベルが表示される【High】
- AC-SEL-002: Props `options` を設定した場合、すべてのオプションが `<option>` として表示される【High】
- AC-SEL-003: Props `selected` を設定した場合、該当するオプションが選択状態（`selected` 属性付与）になる【High】
- AC-SEL-004: `options` 配列の各要素に `value` と `label` が含まれている【High】

##### AC2: インタラクション
- AC-SEL-101: フォーカス時、`focus:border-indigo-500` と `focus:ring-indigo-500` が適用される【Medium】

##### AC3: 状態管理（Livewire連携）
- AC-SEL-201: `wire:model` を設定した場合、選択内容がLivewireプロパティと双方向バインディングされる【High】
- AC-SEL-202: Livewireプロパティが変更された場合、選択値が再レンダリングされる【High】

##### AC5: エッジケース
- AC-SEL-401: `options` が空配列の場合、セレクトボックスは表示されるがオプションは0個【Low】

---

#### 4.3.5 ToggleSwitch コンポーネント

**概要:**
ON/OFF切り替えスイッチ。使用画面: A03, A05, A06, A07

**受入条件:**

##### AC1: 基本表示（Props検証）
- AC-TGL-001: Props `checked=false` の場合、`bg-gray-200` が適用される【High】
- AC-TGL-002: Props `checked=true` の場合、`peer-checked:bg-indigo-600` が適用される【High】
- AC-TGL-003: Props `label` を設定した場合、スイッチの右側にラベルが表示される【Medium】
- AC-TGL-004: チェックボックス本体は `sr-only` で非表示になる【Medium】

##### AC2: インタラクション
- AC-TGL-101: スイッチをクリックした場合、ON/OFF が切り替わる【High】
- AC-TGL-102: フォーカス時、`peer-focus:ring-4 peer-focus:ring-indigo-300` が適用される【Medium】

##### AC3: 状態管理（Livewire連携）
- AC-TGL-201: `wire:model` を設定した場合、ON/OFF状態がLivewireプロパティと双方向バインディングされる【High】
- AC-TGL-202: Livewireプロパティが変更された場合、スイッチ状態が再レンダリングされる【High】

##### AC5: エッジケース
- AC-TGL-401: Props `label` が未設定の場合、ラベルは表示されない【Low】

---

#### 4.3.6 Textarea コンポーネント

**概要:**
複数行テキスト入力。使用画面: A08

**受入条件:**

##### AC1: 基本表示（Props検証）
- AC-TA-001: Props `label` を設定した場合、ラベルが表示される【High】
- AC-TA-002: Props `rows` を設定した場合、指定した行数が `rows` 属性に適用される【Medium】
- AC-TA-003: Props `placeholder` を設定した場合、プレースホルダーが表示される【Medium】
- AC-TA-004: Props `required=true` を設定した場合、ラベルに `*必須` が表示される【High】
- AC-TA-005: デフォルトでは `rows="3"` が適用される【Low】

##### AC2: インタラクション
- AC-TA-101: フォーカス時、`focus:ring-indigo-500` と `focus:border-indigo-500` が適用される【Medium】

##### AC3: 状態管理（Livewire連携）
- AC-TA-201: `wire:model` を設定した場合、入力内容がLivewireプロパティと双方向バインディングされる【High】

---

#### 4.3.7 MonthInput コンポーネント

**概要:**
年月選択フィールド。使用画面: A07

**受入条件:**

##### AC1: 基本表示（Props検証）
- AC-MI-001: Props `label` を設定した場合、ラベルが表示される【High】
- AC-MI-002: `type="month"` の input 要素が生成される【High】
- AC-MI-003: Props `value` を設定した場合、初期値が表示される（形式: YYYY-MM）【High】

##### AC2: インタラクション
- AC-MI-101: フォーカス時、`focus:border-indigo-500` と `focus:ring-indigo-500` が適用される【Medium】

##### AC3: 状態管理（Livewire連携）
- AC-MI-201: `wire:model` を設定した場合、選択内容がLivewireプロパティと双方向バインディングされる【High】

---

#### 4.3.8 SearchBar コンポーネント

**概要:**
検索バー。フィルタ機能付きの検索入力。使用画面: A02, A05, A07

**受入条件:**

##### AC1: 基本表示（Props検証）
- AC-SB-001: Props `placeholder` を設定した場合、検索入力フィールドにプレースホルダーが表示される【High】
- AC-SB-002: 検索アイコン（fa-search）が入力フィールドの左側に表示される【Medium】
- AC-SB-003: Slot `filters` を設定した場合、フィルタセレクトが表示される【Medium】
- AC-SB-004: Slot `actions` を設定した場合、アクションボタンが右側に表示される【Medium】

##### AC3: 状態管理（Livewire連携）
- AC-SB-201: 検索入力に `wire:model.live.debounce.300ms` を設定した場合、入力後300ms待機してからLivewireプロパティと同期される【High】
- AC-SB-202: デバウンス中は検索イベントが発火せず、ユーザーの入力が落ち着いてから検索が実行される【High】
- AC-SB-203: Props `debounce` を設定した場合、指定したミリ秒数でデバウンス遅延時間を変更できる（例: `debounce.500ms`）【Medium】

---

#### 4.3.9 FileDropzone コンポーネント

**概要:**
ファイルドラッグ&ドロップエリア。使用画面: A04

**受入条件:**

##### AC1: 基本表示（Props検証）
- AC-FD-001: デフォルト状態では `border-gray-300` と `border-dashed` が適用される【High】
- AC-FD-002: アイコン（fa-cloud-upload-alt）が表示される【Medium】
- AC-FD-003: 対応形式とサイズ制限のテキストが表示される（「CSV (UTF-8), 最大10MB」）【Medium】

##### AC2: インタラクション
- AC-FD-101: ドラッグオーバー時、`border-indigo-500` と `bg-indigo-50` が適用される【High】
- AC-FD-102: クリックした場合、ファイル選択ダイアログが開く【High】
- AC-FD-103: ホバー時、`hover:border-indigo-400` と `hover:bg-indigo-50/50` が適用される【Medium】

##### AC3: 状態管理（Livewire連携）
- AC-FD-201: ファイルが選択された場合、ファイル名、サイズ、行数が表示される【High】
- AC-FD-202: 選択後の表示には削除ボタン（fa-times）が含まれる【Medium】

##### AC4: バリデーション
- AC-FD-301: `.csv` 以外のファイルを選択した場合、エラーメッセージが表示される【High】
- AC-FD-302: 10MBを超えるファイルを選択した場合、エラーメッセージが表示される【High】

---

#### 4.3.10 ApiKeyField コンポーネント

**概要:**
APIキー表示・コピー用フィールド。使用画面: A03, A06

**受入条件:**

##### AC1: 基本表示（Props検証）
- AC-AK-001: デフォルト状態では `type="password"` でAPIキーがマスクされる【High】
- AC-AK-002: Props `label` を設定した場合、ラベルが表示される【High】
- AC-AK-003: 表示切替ボタン（fa-eye / fa-eye-slash）が表示される【High】
- AC-AK-004: コピーボタン（fa-copy）が表示される【High】
- AC-AK-005: 入力フィールドは `readonly` で編集不可【High】
- AC-AK-006: フィールドに `font-mono` と `bg-gray-50` が適用される【Medium】

##### AC2: インタラクション
- AC-AK-101: 表示切替ボタンをクリックした場合、`type="text"` に切り替わりAPIキーが表示される【High】
- AC-AK-102: 再度表示切替ボタンをクリックした場合、`type="password"` に戻る【High】
- AC-AK-103: コピーボタンをクリックした場合、APIキーがクリップボードにコピーされる【High】

---

#### 4.3.11 DataTable コンポーネント

**概要:**
データ一覧表示用テーブル。使用画面: A01, A02, A03, A04, A05, A07

**受入条件:**

##### AC1: 基本表示（Props検証）
- AC-TBL-001: Props `title` を設定した場合、テーブルヘッダーにタイトルが表示される【Medium】
- AC-TBL-002: Slot `header` を設定した場合、テーブルヘッダー行が表示される【High】
- AC-TBL-003: Slot `body` を設定した場合、テーブルボディ行が表示される【High】
- AC-TBL-004: Slot `footer` を設定した場合、フッター（通常Pagination）が表示される【Medium】
- AC-TBL-005: Slot `headerActions` を設定した場合、ヘッダー右側にアクションボタンが表示される【Medium】
- AC-TBL-006: テーブルヘッダーセルには `bg-gray-50` が適用される【Medium】

##### AC2: インタラクション
- AC-TBL-101: 行にホバーした場合、`hover:bg-gray-50` が適用される【Medium】

##### AC5: エッジケース
- AC-TBL-401: Slot `body` が空の場合、EmptyStateコンポーネントが表示される（別途テスト）【Low】

---

#### 4.3.12 Pagination コンポーネント

**概要:**
ページネーションコンポーネント。使用画面: A02, A05, A07

**受入条件:**

##### AC1: 基本表示（Props検証）
- AC-PG-001: Props `total`, `from`, `to` を設定した場合、「全 X 件中 Y - Z 件」が表示される【High】
- AC-PG-002: Props `currentPage` を設定した場合、該当ページ番号ボタンに `bg-indigo-50` と `text-indigo-600` が適用される【High】
- AC-PG-003: 前へボタン（fa-chevron-left）が表示される【High】
- AC-PG-004: 次へボタン（fa-chevron-right）が表示される【High】
- AC-PG-005: ページ番号ボタンが表示される【High】

##### AC2: インタラクション
- AC-PG-101: ページ番号ボタンをクリックした場合、該当ページへ遷移する【High】
- AC-PG-102: 次へボタンをクリックした場合、次のページへ遷移する【High】
- AC-PG-103: 前へボタンをクリックした場合、前のページへ遷移する【High】

##### AC5: エッジケース
- AC-PG-401: 最初のページでは前へボタンが無効化される【High】
- AC-PG-402: 最後のページでは次へボタンが無効化される【High】

##### AC6: レスポンシブ・アクセシビリティ
- AC-PG-501: モバイル画面（sm未満）では「Previous」「Next」ボタンのみ表示される【Medium】
- AC-PG-502: デスクトップ画面（sm以上）ではページ番号と詳細情報が表示される【Medium】

---

#### 4.3.13 KpiCard コンポーネント

**概要:**
KPI表示カード。ダッシュボードで使用。使用画面: A01

**受入条件:**

##### AC1: 基本表示（Props検証）
- AC-KPI-001: Props `label` を設定した場合、カードタイトルが表示される【High】
- AC-KPI-002: Props `value` を設定した場合、メイン数値が `text-3xl font-bold` で表示される【High】
- AC-KPI-003: Props `icon` を設定した場合、アイコンが表示される【High】
- AC-KPI-004: Props `color="indigo"` を設定した場合、`bg-indigo-50 text-indigo-600` が適用される【High】
- AC-KPI-005: Props `color="blue"` を設定した場合、`bg-blue-50 text-blue-600` が適用される【Medium】
- AC-KPI-006: Props `color="green"` を設定した場合、`bg-green-50 text-green-600` が適用される【Medium】
- AC-KPI-007: Props `subValue` を設定した場合、サブ数値が表示される【Medium】
- AC-KPI-008: Props `subColor="green"` を設定した場合、サブ数値に `text-green-600` が適用される【Medium】
- AC-KPI-009: Props `description` を設定した場合、補足テキストが `text-xs text-gray-400` で表示される【Low】

##### AC5: エッジケース
- AC-KPI-401: Props `subValue` が未設定の場合、サブ数値は表示されない【Low】
- AC-KPI-402: Props `description` が未設定の場合、補足テキストは表示されない【Low】

---

#### 4.3.14 ProgressBar コンポーネント

**概要:**
使用率表示プログレスバー。使用画面: A01, A04, A07, A08, A09

**受入条件:**

##### AC1: 基本表示（Props検証）
- AC-PB-001: Props `percentage` を設定した場合、パーセンテージが表示される【High】
- AC-PB-002: Props `percentage=50` を設定した場合、バーの幅が50%になる【High】
- AC-PB-003: Props `percentage` が0-90%の場合、テキストが `text-gray-600` で表示される【High】
- AC-PB-004: Props `percentage` が91%以上の場合、テキストが `text-red-600` で表示される【High】
- AC-PB-005: Props `barColor` 未設定で `percentage` が0-90%の場合、バーに `bg-blue-500` が適用される【High】
- AC-PB-006: Props `barColor` 未設定で `percentage` が91-100%の場合、バーに `bg-yellow-500` が適用される【High】
- AC-PB-007: Props `barColor` 未設定で `percentage` が100%超過の場合、バーに `bg-red-500` が適用される【High】
- AC-PB-008: Props `barColor` を明示的に設定した場合、指定した色クラスが適用される【Medium】

##### AC4: バリデーション
- AC-PB-301: Props `percentage` が0未満の場合、0%として表示される【Low】
- AC-PB-302: Props `percentage` が100超過の場合、100%以上として表示される（色は `bg-red-500`）【Medium】

---

#### 4.3.15 StatusBadge コンポーネント

**概要:**
ステータス表示バッジ。使用画面: A02, A03, A05

**受入条件:**

##### AC1: 基本表示（Props検証）
- AC-SB-001: Props `status="active"` を設定した場合、`bg-green-100 text-green-800` が適用され、ドットが `bg-green-500` になる【High】
- AC-SB-002: Props `status="inactive"` を設定した場合、`bg-gray-100 text-gray-600` が適用され、ドットが `bg-gray-400` になる【High】
- AC-SB-003: Props `status="warning"` を設定した場合、`bg-yellow-100 text-yellow-800` が適用され、ドットが `bg-yellow-500` になる【Medium】
- AC-SB-004: Props `status="error"` を設定した場合、`bg-red-100 text-red-800` が適用され、ドットが `bg-red-500` になる【Medium】
- AC-SB-005: Props `label` を設定した場合、指定したラベルテキストが表示される【High】
- AC-SB-006: ドットアイコンが `w-1.5 h-1.5 rounded-full` で表示される【Medium】

---

#### 4.3.16 EmptyState コンポーネント

**概要:**
データなし時の表示。使用画面: A02, A04, A07

**受入条件:**

##### AC1: 基本表示（Props検証）
- AC-ES-001: Props `colspan` を設定した場合、`<td>` の `colspan` 属性に適用される【High】
- AC-ES-002: Props `message` を設定した場合、メッセージが表示される【High】
- AC-ES-003: Props `icon` を設定した場合、指定したアイコンが `text-2xl text-gray-300` で表示される【Medium】
- AC-ES-004: Props `icon` 未設定の場合、デフォルトで `fa-search` が表示される【Medium】

---

#### 4.3.17 Modal コンポーネント

**概要:**
汎用モーダルダイアログ。使用画面: A02, A03, A05, A06, A08

**受入条件:**

##### AC1: 基本表示（Props検証）
- AC-MDL-001: Props `title` を設定した場合、モーダルヘッダーにタイトルが表示される【High】
- AC-MDL-002: Props `icon` を設定した場合、ヘッダーにアイコンが表示される【Medium】
- AC-MDL-003: Slot `default` を設定した場合、モーダル本文が表示される【High】
- AC-MDL-004: Slot `footer` を設定した場合、フッターボタン群が表示される【High】
- AC-MDL-005: Props `maxWidth="sm:max-w-lg"` がデフォルトで適用される【Medium】
- AC-MDL-006: Props `maxWidth="sm:max-w-2xl"` を設定した場合、幅が変更される【Medium】
- AC-MDL-007: 閉じるボタン（fa-times）がヘッダー右側に表示される【High】

##### AC2: インタラクション
- AC-MDL-101: 閉じるボタンをクリックした場合、モーダルが閉じる（`open = false`）【High】
- AC-MDL-102: オーバーレイをクリックした場合、モーダルが閉じる【High】
- AC-MDL-103: モーダルが開いた時、フェードインアニメーションが実行される（300ms）【Low】
- AC-MDL-104: モーダルが閉じた時、フェードアウトアニメーションが実行される（200ms）【Low】

##### AC3: 状態管理（Livewire連携）
- AC-MDL-201: Alpine.js `x-show="open"` が `false` の場合、モーダルは非表示になる【High】
- AC-MDL-202: Alpine.js `x-show="open"` が `true` の場合、モーダルが表示される【High】

---

#### 4.3.18 ConfirmModal コンポーネント

**概要:**
削除確認など危険な操作用のモーダル。使用画面: A03, A06

**受入条件:**

##### AC1: 基本表示（Props検証）
- AC-CM-001: Props `title` を設定した場合、確認タイトルが表示される【High】
- AC-CM-002: Props `message` を設定した場合、確認メッセージが表示される【High】
- AC-CM-003: 警告アイコン（fa-exclamation-triangle）が `bg-red-100 text-red-600` で表示される【High】
- AC-CM-004: Props `confirmText` を設定した場合、入力確認フィールドが表示される【High】
- AC-CM-005: Props `confirmText` 未設定の場合、入力確認フィールドは表示されない【Medium】
- AC-CM-006: Props `actionLabel` を設定した場合、アクションボタンのラベルが変更される【Medium】
- AC-CM-007: Props `actionLabel` 未設定の場合、デフォルトで「削除する」が表示される【Medium】

##### AC2: インタラクション
- AC-CM-101: キャンセルボタンをクリックした場合、モーダルが閉じる【High】
- AC-CM-102: オーバーレイをクリックした場合、モーダルが閉じる【High】

##### AC4: バリデーション
- AC-CM-301: Props `confirmText` が設定されており、入力値が一致しない場合、アクションボタンが無効化される【High】
- AC-CM-302: Props `confirmText` が設定されており、入力値が一致する場合、アクションボタンが有効化される【High】
- AC-CM-303: アクションボタンをクリックした場合、削除処理が実行される【High】

---

#### 4.3.19 AppLayout コンポーネント

**概要:**
アプリケーション全体のベースレイアウト。サイドバーとメインコンテンツエリアを含む。

**受入条件:**

##### AC1: 基本表示（Props検証）
- AC-AL-001: Props `title` を設定した場合、PageHeaderにタイトルが表示される【High】
- AC-AL-002: Props `description` を設定した場合、PageHeaderに説明文が表示される【Medium】
- AC-AL-003: Slot `default` を設定した場合、メインコンテンツエリアに内容が表示される【High】
- AC-AL-004: Sidebarコンポーネントが含まれている【High】
- AC-AL-005: MobileHeaderコンポーネントが含まれている【High】

##### AC6: レスポンシブ・アクセシビリティ
- AC-AL-501: デスクトップ（lg以上）では、Sidebarが常時表示される【High】
- AC-AL-502: モバイル（lg未満）では、MobileHeaderが表示される【High】

---

#### 4.3.20 Sidebar コンポーネント

**概要:**
左サイドバーナビゲーション。デスクトップでは常時表示、モバイルではスライドイン。

**受入条件:**

##### AC1: 基本表示（Props検証）
- AC-SB-001: ロゴエリアに「Gateway Admin」が表示される【High】
- AC-SB-002: ロゴアイコン（fa-network-wired）が表示される【Medium】
- AC-SB-003: Slot `navigation` を設定した場合、ナビゲーション項目が表示される【High】
- AC-SB-004: Slot `userProfile` を設定した場合、ユーザープロフィールエリアが表示される【Medium】
- AC-SB-005: サイドバーの幅が `w-64` である【Medium】

##### AC2: インタラクション
- AC-SB-101: モバイルでオーバーレイをクリックした場合、サイドバーが閉じる（`sidebarOpen = false`）【High】

##### AC6: レスポンシブ・アクセシビリティ
- AC-SB-501: デスクトップ（lg以上）では、サイドバーが常時表示される（`lg:static lg:translate-x-0`）【High】
- AC-SB-502: モバイル（lg未満）で `sidebarOpen=false` の場合、サイドバーが画面外に隠れる（`-translate-x-full`）【High】
- AC-SB-503: モバイル（lg未満）で `sidebarOpen=true` の場合、サイドバーがスライドインする（`translate-x-0`）【High】
- AC-SB-504: モバイル（lg未満）で `sidebarOpen=true` の場合、オーバーレイが表示される【High】

---

#### 4.3.21 PageHeader コンポーネント

**概要:**
デスクトップ用ページヘッダー。タイトル、説明、アクションボタンを表示。

**受入条件:**

##### AC1: 基本表示（Props検証）
- AC-PH-001: Props `title` を設定した場合、ページタイトルが `text-xl font-bold` で表示される【High】
- AC-PH-002: Props `description` を設定した場合、説明文が `text-xs text-gray-500` で表示される【Medium】
- AC-PH-003: Slot `actions` を設定した場合、右側にアクションボタン群が表示される【Medium】

##### AC5: エッジケース
- AC-PH-401: Props `description` が未設定の場合、説明文は表示されない【Low】

---

#### 4.3.22 NavItem コンポーネント

**概要:**
サイドバー内のナビゲーションリンク。

**受入条件:**

##### AC1: 基本表示（Props検証）
- AC-NI-001: Props `href` を設定した場合、リンク先が設定される【High】
- AC-NI-002: Props `icon` を設定した場合、FontAwesomeアイコンが表示される【High】
- AC-NI-003: Props `label` を設定した場合、メニュー名が表示される【High】
- AC-NI-004: Props `active=false` の場合、`text-gray-600` と `hover:bg-gray-50` が適用される【High】
- AC-NI-005: Props `active=true` の場合、`bg-indigo-50 text-indigo-700` が適用される【High】

##### AC2: インタラクション
- AC-NI-101: ホバー時、`hover:text-gray-900` が適用される（非アクティブ時）【Medium】

---

#### 4.3.23 Breadcrumb コンポーネント

**概要:**
パンくずナビゲーション。詳細・編集画面で使用。使用画面: A03, A06

**受入条件:**

##### AC1: 基本表示（Props検証）
- AC-BC-001: Props `items` を設定した場合、すべてのアイテムが表示される【High】
- AC-BC-002: 最初のアイテムがリンクとして表示される【High】
- AC-BC-003: 最後のアイテムが現在地（リンクなし）として表示される【High】
- AC-BC-004: 中間のアイテムがリンクとして表示される【Medium】
- AC-BC-005: 区切り記号として `fa-chevron-right` が表示される【Medium】

##### AC5: エッジケース
- AC-BC-401: Props `items` が1個のみの場合、区切り記号は表示されない【Low】

---

#### 4.3.24 AlertBanner コンポーネント

**概要:**
ページ内警告バナー。使用画面: A03, A09

**受入条件:**

##### AC1: 基本表示（Props検証）
- AC-AB-001: Props `type="warning"` を設定した場合、`bg-yellow-50 border-yellow-400` が適用され、アイコンが `fa-exclamation-triangle` になる【High】
- AC-AB-002: Props `type="error"` を設定した場合、`bg-red-50 border-red-400` が適用され、アイコンが `fa-exclamation-circle` になる【High】
- AC-AB-003: Props `type="info"` を設定した場合、`bg-blue-50 border-blue-400` が適用され、アイコンが `fa-info-circle` になる【Medium】
- AC-AB-004: Props `type="success"` を設定した場合、`bg-green-50 border-green-400` が適用され、アイコンが `fa-check-circle` になる【Medium】
- AC-AB-005: Props `title` を設定した場合、タイトルが `font-bold` で表示される【Medium】
- AC-AB-006: Props `message` を設定した場合、メッセージが表示される【High】
- AC-AB-007: Props `dismissible=true` を設定した場合、閉じるボタンが表示される【Medium】

##### AC2: インタラクション
- AC-AB-101: 閉じるボタンをクリックした場合、バナーが非表示になる【Medium】

---

#### 4.3.25 Toast コンポーネント

**概要:**
一時的な通知トースト。使用画面: A04

**受入条件:**

##### AC1: 基本表示（Props検証）
- AC-T-001: Alpine.js `type="success"` の場合、`bg-green-600 text-white` が適用され、アイコンが `fa-check-circle` になる【High】
- AC-T-002: Alpine.js `type="error"` の場合、`bg-red-600 text-white` が適用され、アイコンが `fa-exclamation-circle` になる【High】
- AC-T-003: Alpine.js `message` を設定した場合、メッセージが表示される【High】

##### AC2: インタラクション
- AC-T-101: トーストが表示された時、フェードインアニメーションが実行される（300ms）【Low】
- AC-T-102: トーストが非表示になった時、フェードアウトアニメーションが実行される（100ms）【Low】

##### AC3: 状態管理（Livewire連携）
- AC-T-201: Livewire `dispatch('toast')` イベントを受信した場合、トーストが表示される【High】
- AC-T-202: 一定時間後（例: 3秒）、トーストが自動的に非表示になる【Medium】

---

## 5. テストケース一覧

### 5.1 テストケース表フォーマット

各テストケースは以下の形式で記載します：

| テストID | テスト項目 | 前提条件 | 入力/操作 | 期待値 | 優先度 | 実装状況 | 対応AC |
|---------|---------|---------|---------|--------|--------|--------|--------|
| TC-XXX-001 | ... | - | ... | ... | High | pending | AC-XXX-001 |

---

### 5.2 コンポーネント別テストケース

---

#### 5.2.1 Button コンポーネント

**テストケース:**

| テストID | テスト項目 | 前提条件 | 入力/操作 | 期待値 | 優先度 | 実装状況 | 対応AC |
|---------|---------|---------|---------|--------|--------|--------|--------|
| TC-BTN-001 | Primary バリアントの表示 | - | `variant="primary"` を設定 | `bg-indigo-600` が適用される | High | pending | AC-BTN-001 |
| TC-BTN-002 | Secondary バリアントの表示 | - | `variant="secondary"` を設定 | `border-gray-300` と `bg-white` が適用される | High | pending | AC-BTN-002 |
| TC-BTN-003 | Danger バリアントの表示 | - | `variant="danger"` を設定 | `bg-red-600` が適用される | High | pending | AC-BTN-003 |
| TC-BTN-004 | Ghost バリアントの表示 | - | `variant="ghost"` を設定 | `text-indigo-600` が適用され、背景色なし | Medium | pending | AC-BTN-004 |
| TC-BTN-005 | Small サイズの表示 | - | `size="sm"` を設定 | `px-3 py-1.5 text-xs` が適用される | Medium | pending | AC-BTN-005 |
| TC-BTN-006 | Medium サイズの表示 | - | `size="md"` を設定 | `px-4 py-2 text-sm` が適用される | High | pending | AC-BTN-006 |
| TC-BTN-007 | Large サイズの表示 | - | `size="lg"` を設定 | `px-6 py-3 text-base` が適用される | Medium | pending | AC-BTN-007 |
| TC-BTN-008 | アイコンの表示 | - | `icon="fa-plus"` を設定 | FontAwesomeアイコンが表示される | Medium | pending | AC-BTN-008 |
| TC-BTN-009 | アイコン位置（右）の表示 | - | `iconPosition="right"` を設定 | アイコンがテキストの右側に配置される | Low | pending | AC-BTN-009 |
| TC-BTN-010 | クリックイベントの発火 | - | ボタンをクリック | クリックイベントが発火する | High | pending | AC-BTN-101 |
| TC-BTN-011 | 無効化状態の表示 | - | `disabled=true` を設定 | `opacity-50` と `cursor-not-allowed` が適用される | High | pending | AC-BTN-102 |
| TC-BTN-012 | 無効化状態のクリック防止 | `disabled=true` | ボタンをクリック | クリックイベントが発火しない | High | pending | AC-BTN-102 |
| TC-BTN-013 | ローディング状態の表示 | - | `loading=true` を設定 | ローディングアイコン（fa-circle-notch fa-spin）が表示され、ボタンが無効化される | High | pending | AC-BTN-201 |

---

#### 5.2.2 IconButton コンポーネント

**テストケース:**

| テストID | テスト項目 | 前提条件 | 入力/操作 | 期待値 | 優先度 | 実装状況 | 対応AC |
|---------|---------|---------|---------|--------|--------|--------|--------|
| TC-IBTN-001 | アイコンの表示 | - | `icon="fa-edit"` を設定 | FontAwesomeアイコンが表示される | High | pending | AC-IBTN-001 |
| TC-IBTN-002 | カラー（indigo）の適用 | - | `color="indigo"` を設定 | `hover:text-indigo-600` が適用される | High | pending | AC-IBTN-002 |
| TC-IBTN-003 | カラー（red）の適用 | - | `color="red"` を設定 | `hover:text-red-600` が適用される | High | pending | AC-IBTN-003 |
| TC-IBTN-004 | カラー（gray）の適用 | - | `color="gray"` を設定 | `hover:text-gray-600` が適用される | Medium | pending | AC-IBTN-004 |
| TC-IBTN-005 | デフォルト色の適用 | - | `color` 未設定 | `text-gray-400` が適用される | Medium | pending | AC-IBTN-005 |
| TC-IBTN-006 | クリックイベントの発火 | - | ボタンをクリック | クリックイベントが発火する | High | pending | AC-IBTN-101 |
| TC-IBTN-007 | ツールチップの表示 | - | `title="編集"` を設定 | ツールチップとして「編集」が表示される | High | pending | AC-IBTN-501 |

---

#### 5.2.3 TextInput コンポーネント

**テストケース:**

| テストID | テスト項目 | 前提条件 | 入力/操作 | 期待値 | 優先度 | 実装状況 | 対応AC |
|---------|---------|---------|---------|--------|--------|--------|--------|
| TC-TI-001 | ラベルの表示 | - | `label="拠点名"` を設定 | ラベルが表示される | High | pending | AC-TI-001 |
| TC-TI-002 | Email タイプの適用 | - | `type="email"` を設定 | `type="email"` の input 要素が生成される | High | pending | AC-TI-002 |
| TC-TI-003 | プレースホルダーの表示 | - | `placeholder="例: 東京本社"` を設定 | プレースホルダーが表示される | Medium | pending | AC-TI-003 |
| TC-TI-004 | 初期値の表示 | - | `value="東京本社"` を設定 | 初期値が表示される | High | pending | AC-TI-004 |
| TC-TI-005 | 必須属性の付与 | - | `required=true` を設定 | `required` 属性が付与される | High | pending | AC-TI-005 |
| TC-TI-006 | ヒントテキストの表示 | - | `hint="半角英数字のみ"` を設定 | ヒントテキストが `text-xs text-gray-400` で表示される | Medium | pending | AC-TI-006 |
| TC-TI-007 | デフォルトタイプの適用 | - | `type` 未設定 | `type="text"` が適用される | Medium | pending | AC-TI-007 |
| TC-TI-008 | Livewire双方向バインディング | - | `wire:model="teamName"` を設定、入力値変更 | Livewireプロパティと双方向バインディングされる | High | pending | AC-TI-201 |
| TC-TI-009 | Livewire再レンダリング | `wire:model="teamName"` | Livewireプロパティを変更 | 入力値が再レンダリングされる | High | pending | AC-TI-202 |

---

#### 5.2.4 SelectInput コンポーネント

**テストケース:**

| テストID | テスト項目 | 前提条件 | 入力/操作 | 期待値 | 優先度 | 実装状況 | 対応AC |
|---------|---------|---------|---------|--------|--------|--------|--------|
| TC-SEL-001 | ラベルの表示 | - | `label="プラン"` を設定 | ラベルが表示される | High | pending | AC-SEL-001 |
| TC-SEL-002 | オプションの表示 | - | `options=[{value: 1, label: 'Basic'}, {value: 2, label: 'Pro'}]` を設定 | すべてのオプションが `<option>` として表示される | High | pending | AC-SEL-002 |
| TC-SEL-003 | 選択状態の適用 | - | `selected="2"` を設定 | 該当するオプションが選択状態（`selected` 属性付与）になる | High | pending | AC-SEL-003 |
| TC-SEL-004 | Livewire双方向バインディング | - | `wire:model="planId"` を設定、選択値変更 | Livewireプロパティと双方向バインディングされる | High | pending | AC-SEL-201 |
| TC-SEL-005 | Livewire再レンダリング | `wire:model="planId"` | Livewireプロパティを変更 | 選択値が再レンダリングされる | High | pending | AC-SEL-202 |

---

#### 5.2.5 ToggleSwitch コンポーネント

**テストケース:**

| テストID | テスト項目 | 前提条件 | 入力/操作 | 期待値 | 優先度 | 実装状況 | 対応AC |
|---------|---------|---------|---------|--------|--------|--------|--------|
| TC-TGL-001 | OFF 状態の表示 | - | `checked=false` を設定 | `bg-gray-200` が適用される | High | pending | AC-TGL-001 |
| TC-TGL-002 | ON 状態の表示 | - | `checked=true` を設定 | `peer-checked:bg-indigo-600` が適用される | High | pending | AC-TGL-002 |
| TC-TGL-003 | ラベルの表示 | - | `label="有効"` を設定 | スイッチの右側にラベルが表示される | Medium | pending | AC-TGL-003 |
| TC-TGL-004 | クリックによる切り替え | `checked=false` | スイッチをクリック | ON/OFF が切り替わる | High | pending | AC-TGL-101 |
| TC-TGL-005 | Livewire双方向バインディング | - | `wire:model="isActive"` を設定、スイッチ切り替え | Livewireプロパティと双方向バインディングされる | High | pending | AC-TGL-201 |
| TC-TGL-006 | Livewire再レンダリング | `wire:model="isActive"` | Livewireプロパティを変更 | スイッチ状態が再レンダリングされる | High | pending | AC-TGL-202 |
| TC-TGL-007 | チェックボックス本体の非表示 | - | - | チェックボックス本体が `sr-only` で非表示になる | Medium | pending | AC-TGL-004 |
| TC-TGL-008 | フォーカス時のリング表示 | - | スイッチにフォーカス | `peer-focus:ring-4 peer-focus:ring-indigo-300` が適用される | Medium | pending | AC-TGL-102 |
| TC-TGL-009 | ラベル未設定時の非表示 | - | `label` 未設定 | ラベルは表示されない | Low | pending | AC-TGL-401 |

---

#### 5.2.6 Textarea コンポーネント

**テストケース:**

| テストID | テスト項目 | 前提条件 | 入力/操作 | 期待値 | 優先度 | 実装状況 | 対応AC |
|---------|---------|---------|---------|--------|--------|--------|--------|
| TC-TA-001 | ラベルの表示 | - | `label="修正理由"` を設定 | ラベルが表示される | High | pending | AC-TA-001 |
| TC-TA-002 | 行数の設定 | - | `rows="5"` を設定 | `rows="5"` が適用される | Medium | pending | AC-TA-002 |
| TC-TA-003 | プレースホルダーの表示 | - | `placeholder="詳細を入力"` を設定 | プレースホルダーが表示される | Medium | pending | AC-TA-003 |
| TC-TA-004 | 必須表示 | - | `required=true` を設定 | ラベルに `*必須` が表示される | High | pending | AC-TA-004 |
| TC-TA-005 | Livewire双方向バインディング | - | `wire:model="reason"` を設定、入力値変更 | Livewireプロパティと双方向バインディングされる | High | pending | AC-TA-201 |
| TC-TA-006 | デフォルト行数の適用 | - | `rows` 未設定 | `rows="3"` が適用される | Low | pending | AC-TA-005 |
| TC-TA-007 | フォーカス時のスタイル | - | テキストエリアにフォーカス | `focus:ring-indigo-500` と `focus:border-indigo-500` が適用される | Medium | pending | AC-TA-101 |

---

#### 5.2.7 MonthInput コンポーネント

**テストケース:**

| テストID | テスト項目 | 前提条件 | 入力/操作 | 期待値 | 優先度 | 実装状況 | 対応AC |
|---------|---------|---------|---------|--------|--------|--------|--------|
| TC-MI-001 | ラベルの表示 | - | `label="対象月"` を設定 | ラベルが表示される | High | pending | AC-MI-001 |
| TC-MI-002 | Month タイプの適用 | - | - | `type="month"` の input 要素が生成される | High | pending | AC-MI-002 |
| TC-MI-003 | 初期値の表示 | - | `value="2024-01"` を設定 | 初期値が表示される | High | pending | AC-MI-003 |
| TC-MI-004 | Livewire双方向バインディング | - | `wire:model="targetMonth"` を設定、選択値変更 | Livewireプロパティと双方向バインディングされる | High | pending | AC-MI-201 |
| TC-MI-005 | フォーカス時のスタイル | - | 入力フィールドにフォーカス | `focus:border-indigo-500` と `focus:ring-indigo-500` が適用される | Medium | pending | AC-MI-101 |

---

#### 5.2.8 SearchBar コンポーネント

**テストケース:**

| テストID | テスト項目 | 前提条件 | 入力/操作 | 期待値 | 優先度 | 実装状況 | 対応AC |
|---------|---------|---------|---------|--------|--------|--------|--------|
| TC-SB-001 | プレースホルダーの表示 | - | `placeholder="拠点名で検索"` を設定 | 検索入力フィールドにプレースホルダーが表示される | High | pending | AC-SB-001 |
| TC-SB-002 | 検索アイコンの表示 | - | - | 検索アイコン（fa-search）が入力フィールドの左側に表示される | Medium | pending | AC-SB-002 |
| TC-SB-003 | フィルタの表示 | - | Slot `filters` を設定 | フィルタセレクトが表示される | Medium | pending | AC-SB-003 |
| TC-SB-004 | アクションボタンの表示 | - | Slot `actions` を設定 | アクションボタンが右側に表示される | Medium | pending | AC-SB-004 |
| TC-SB-005 | デバウンス付きLivewire同期 | - | `wire:model.live.debounce.300ms="search"` を設定、入力値変更 | 入力後300ms待機してからLivewireプロパティと同期される | High | pending | AC-SB-201 |
| TC-SB-006 | デバウンス遅延の確認 | `wire:model.live.debounce.300ms` | 文字を入力後、300ms以内に再度入力 | 最初の入力では検索イベントが発火せず、入力が落ち着いてから検索が実行される | High | pending | AC-SB-202 |
| TC-SB-007 | カスタムデバウンス時間 | - | `debounce.500ms` を設定 | 入力後500ms待機してから検索が実行される | Medium | pending | AC-SB-203 |

---

#### 5.2.9 FileDropzone コンポーネント

**テストケース:**

| テストID | テスト項目 | 前提条件 | 入力/操作 | 期待値 | 優先度 | 実装状況 | 対応AC |
|---------|---------|---------|---------|--------|--------|--------|--------|
| TC-FD-001 | デフォルト状態の表示 | - | - | `border-gray-300` と `border-dashed` が適用される | High | pending | AC-FD-001 |
| TC-FD-002 | アイコンの表示 | - | - | アイコン（fa-cloud-upload-alt）が表示される | Medium | pending | AC-FD-002 |
| TC-FD-003 | 制限情報の表示 | - | - | 「CSV (UTF-8), 最大10MB」が表示される | Medium | pending | AC-FD-003 |
| TC-FD-004 | ドラッグオーバー時のスタイル | - | ファイルをドラッグオーバー | `border-indigo-500` と `bg-indigo-50` が適用される | High | pending | AC-FD-101 |
| TC-FD-005 | クリック時のファイル選択 | - | エリアをクリック | ファイル選択ダイアログが開く | High | pending | AC-FD-102 |
| TC-FD-006 | ファイル選択後の表示 | - | ファイルを選択 | ファイル名、サイズ、行数が表示される | High | pending | AC-FD-201 |
| TC-FD-007 | 削除ボタンの表示 | ファイル選択済み | - | 削除ボタン（fa-times）が表示される | Medium | pending | AC-FD-202 |
| TC-FD-008 | 非対応ファイルのバリデーション | - | `.txt` ファイルを選択 | エラーメッセージが表示される | High | pending | AC-FD-301 |
| TC-FD-009 | サイズ超過のバリデーション | - | 10MB超過ファイルを選択 | エラーメッセージが表示される | High | pending | AC-FD-302 |
| TC-FD-010 | ホバー時のスタイル | - | エリアにホバー | `hover:border-indigo-400` と `hover:bg-indigo-50/50` が適用される | Medium | pending | AC-FD-103 |

---

#### 5.2.10 ApiKeyField コンポーネント

**テストケース:**

| テストID | テスト項目 | 前提条件 | 入力/操作 | 期待値 | 優先度 | 実装状況 | 対応AC |
|---------|---------|---------|---------|--------|--------|--------|--------|
| TC-AK-001 | デフォルトマスク表示 | - | - | `type="password"` でAPIキーがマスクされる | High | pending | AC-AK-001 |
| TC-AK-002 | ラベルの表示 | - | `label="APIキー"` を設定 | ラベルが表示される | High | pending | AC-AK-002 |
| TC-AK-003 | 表示切替ボタンの表示 | - | - | 表示切替ボタン（fa-eye / fa-eye-slash）が表示される | High | pending | AC-AK-003 |
| TC-AK-004 | コピーボタンの表示 | - | - | コピーボタン（fa-copy）が表示される | High | pending | AC-AK-004 |
| TC-AK-005 | 読み取り専用の確認 | - | - | 入力フィールドが `readonly` で編集不可 | High | pending | AC-AK-005 |
| TC-AK-006 | 表示切替（表示） | `type="password"` | 表示切替ボタンをクリック | `type="text"` に切り替わりAPIキーが表示される | High | pending | AC-AK-101 |
| TC-AK-007 | 表示切替（非表示） | `type="text"` | 再度表示切替ボタンをクリック | `type="password"` に戻る | High | pending | AC-AK-102 |
| TC-AK-008 | コピー機能 | - | コピーボタンをクリック | APIキーがクリップボードにコピーされる | High | pending | AC-AK-103 |
| TC-AK-009 | フィールドスタイルの適用 | - | - | フィールドに `font-mono` と `bg-gray-50` が適用される | Medium | pending | AC-AK-006 |

---

#### 5.2.11 DataTable コンポーネント

**テストケース:**

| テストID | テスト項目 | 前提条件 | 入力/操作 | 期待値 | 優先度 | 実装状況 | 対応AC |
|---------|---------|---------|---------|--------|--------|--------|--------|
| TC-TBL-001 | タイトルの表示 | - | `title="拠点一覧"` を設定 | テーブルヘッダーにタイトルが表示される | Medium | pending | AC-TBL-001 |
| TC-TBL-002 | ヘッダー行の表示 | - | Slot `header` を設定 | テーブルヘッダー行が表示される | High | pending | AC-TBL-002 |
| TC-TBL-003 | ボディ行の表示 | - | Slot `body` を設定 | テーブルボディ行が表示される | High | pending | AC-TBL-003 |
| TC-TBL-004 | フッターの表示 | - | Slot `footer` を設定 | フッター（通常Pagination）が表示される | Medium | pending | AC-TBL-004 |
| TC-TBL-005 | ヘッダーアクションの表示 | - | Slot `headerActions` を設定 | ヘッダー右側にアクションボタンが表示される | Medium | pending | AC-TBL-005 |

---

#### 5.2.12 Pagination コンポーネント

**テストケース:**

| テストID | テスト項目 | 前提条件 | 入力/操作 | 期待値 | 優先度 | 実装状況 | 対応AC |
|---------|---------|---------|---------|--------|--------|--------|--------|
| TC-PG-001 | 件数表示 | - | `total="100"`, `from="1"`, `to="10"` を設定 | 「全 100 件中 1 - 10 件」が表示される | High | pending | AC-PG-001 |
| TC-PG-002 | 現在ページの表示 | - | `currentPage="2"` を設定 | ページ番号2ボタンに `bg-indigo-50 text-indigo-600` が適用される | High | pending | AC-PG-002 |
| TC-PG-003 | 前へボタンの表示 | - | - | 前へボタン（fa-chevron-left）が表示される | High | pending | AC-PG-003 |
| TC-PG-004 | 次へボタンの表示 | - | - | 次へボタン（fa-chevron-right）が表示される | High | pending | AC-PG-004 |
| TC-PG-005 | ページ番号ボタンのクリック | - | ページ番号3をクリック | ページ3へ遷移する | High | pending | AC-PG-101 |
| TC-PG-006 | 次へボタンのクリック | `currentPage="1"` | 次へボタンをクリック | 次のページへ遷移する | High | pending | AC-PG-102 |
| TC-PG-007 | 前へボタンのクリック | `currentPage="2"` | 前へボタンをクリック | 前のページへ遷移する | High | pending | AC-PG-103 |
| TC-PG-008 | 最初のページでの前へボタン無効化 | `currentPage="1"` | - | 前へボタンが無効化される | High | pending | AC-PG-401 |
| TC-PG-009 | 最後のページでの次へボタン無効化 | `currentPage="10"`, `totalPages="10"` | - | 次へボタンが無効化される | High | pending | AC-PG-402 |

---

#### 5.2.13 KpiCard コンポーネント

**テストケース:**

| テストID | テスト項目 | 前提条件 | 入力/操作 | 期待値 | 優先度 | 実装状況 | 対応AC |
|---------|---------|---------|---------|--------|--------|--------|--------|
| TC-KPI-001 | ラベルの表示 | - | `label="総拠点数"` を設定 | カードタイトルが表示される | High | pending | AC-KPI-001 |
| TC-KPI-002 | メイン数値の表示 | - | `value="42"` を設定 | メイン数値が `text-3xl font-bold` で表示される | High | pending | AC-KPI-002 |
| TC-KPI-003 | アイコンの表示 | - | `icon="fa-building"` を設定 | アイコンが表示される | High | pending | AC-KPI-003 |
| TC-KPI-004 | カラー（indigo）の適用 | - | `color="indigo"` を設定 | `bg-indigo-50 text-indigo-600` が適用される | High | pending | AC-KPI-004 |
| TC-KPI-005 | カラー（blue）の適用 | - | `color="blue"` を設定 | `bg-blue-50 text-blue-600` が適用される | Medium | pending | AC-KPI-005 |
| TC-KPI-006 | カラー（green）の適用 | - | `color="green"` を設定 | `bg-green-50 text-green-600` が適用される | Medium | pending | AC-KPI-006 |
| TC-KPI-007 | サブ数値の表示 | - | `subValue="+12%"` を設定 | サブ数値が表示される | Medium | pending | AC-KPI-007 |
| TC-KPI-008 | サブ数値カラー（green）の適用 | - | `subColor="green"` を設定 | サブ数値に `text-green-600` が適用される | Medium | pending | AC-KPI-008 |

---

#### 5.2.14 ProgressBar コンポーネント

**テストケース:**

| テストID | テスト項目 | 前提条件 | 入力/操作 | 期待値 | 優先度 | 実装状況 | 対応AC |
|---------|---------|---------|---------|--------|--------|--------|--------|
| TC-PB-001 | パーセンテージの表示 | - | `percentage="75"` を設定 | 「75%」が表示される | High | pending | AC-PB-001 |
| TC-PB-002 | バー幅の適用 | - | `percentage="50"` を設定 | バーの幅が50%になる | High | pending | AC-PB-002 |
| TC-PB-003 | 通常時のテキスト色 | - | `percentage="50"` を設定 | テキストが `text-gray-600` で表示される | High | pending | AC-PB-003 |
| TC-PB-004 | 超過時のテキスト色 | - | `percentage="95"` を設定 | テキストが `text-red-600` で表示される | High | pending | AC-PB-004 |
| TC-PB-005 | 通常時のバー色 | `barColor` 未設定 | `percentage="50"` を設定 | バーに `bg-blue-500` が適用される | High | pending | AC-PB-005 |
| TC-PB-006 | 警告時のバー色 | `barColor` 未設定 | `percentage="95"` を設定 | バーに `bg-yellow-500` が適用される | High | pending | AC-PB-006 |
| TC-PB-007 | 超過時のバー色 | `barColor` 未設定 | `percentage="105"` を設定 | バーに `bg-red-500` が適用される | High | pending | AC-PB-007 |

---

#### 5.2.15 StatusBadge コンポーネント

**テストケース:**

| テストID | テスト項目 | 前提条件 | 入力/操作 | 期待値 | 優先度 | 実装状況 | 対応AC |
|---------|---------|---------|---------|--------|--------|--------|--------|
| TC-SB-001 | Active ステータスの表示 | - | `status="active"`, `label="Active"` を設定 | `bg-green-100 text-green-800` が適用され、ドットが `bg-green-500` になる | High | pending | AC-SB-001 |
| TC-SB-002 | Inactive ステータスの表示 | - | `status="inactive"`, `label="Inactive"` を設定 | `bg-gray-100 text-gray-600` が適用され、ドットが `bg-gray-400` になる | High | pending | AC-SB-002 |
| TC-SB-003 | Warning ステータスの表示 | - | `status="warning"`, `label="Warning"` を設定 | `bg-yellow-100 text-yellow-800` が適用され、ドットが `bg-yellow-500` になる | Medium | pending | AC-SB-003 |
| TC-SB-004 | Error ステータスの表示 | - | `status="error"`, `label="Error"` を設定 | `bg-red-100 text-red-800` が適用され、ドットが `bg-red-500` になる | Medium | pending | AC-SB-004 |
| TC-SB-005 | ドットアイコンの表示 | - | `status="active"`, `label="Active"` を設定 | ドットアイコンが `w-1.5 h-1.5 rounded-full` で表示される | Medium | pending | AC-SB-006 |

---

#### 5.2.16 EmptyState コンポーネント

**テストケース:**

| テストID | テスト項目 | 前提条件 | 入力/操作 | 期待値 | 優先度 | 実装状況 | 対応AC |
|---------|---------|---------|---------|--------|--------|--------|--------|
| TC-ES-001 | Colspan の適用 | - | `colspan="5"` を設定 | `<td>` の `colspan="5"` が適用される | High | pending | AC-ES-001 |
| TC-ES-002 | メッセージの表示 | - | `message="データがありません"` を設定 | メッセージが表示される | High | pending | AC-ES-002 |
| TC-ES-003 | カスタムアイコンの表示 | - | `icon="inbox"` を設定 | `fa-inbox` アイコンが `text-2xl text-gray-300` で表示される | Medium | pending | AC-ES-003 |
| TC-ES-004 | デフォルトアイコンの表示 | - | `icon` 未設定 | `fa-search` が表示される | Medium | pending | AC-ES-004 |

---

#### 5.2.17 Modal コンポーネント

**テストケース:**

| テストID | テスト項目 | 前提条件 | 入力/操作 | 期待値 | 優先度 | 実装状況 | 対応AC |
|---------|---------|---------|---------|--------|--------|--------|--------|
| TC-MDL-001 | タイトルの表示 | - | `title="拠点登録"` を設定 | モーダルヘッダーにタイトルが表示される | High | pending | AC-MDL-001 |
| TC-MDL-002 | アイコンの表示 | - | `icon="building"` を設定 | ヘッダーにアイコンが表示される | Medium | pending | AC-MDL-002 |
| TC-MDL-003 | 本文の表示 | - | Slot `default` を設定 | モーダル本文が表示される | High | pending | AC-MDL-003 |
| TC-MDL-004 | フッターの表示 | - | Slot `footer` を設定 | フッターボタン群が表示される | High | pending | AC-MDL-004 |
| TC-MDL-005 | 閉じるボタンのクリック | `open=true` | 閉じるボタンをクリック | モーダルが閉じる（`open = false`） | High | pending | AC-MDL-101 |
| TC-MDL-006 | オーバーレイのクリック | `open=true` | オーバーレイをクリック | モーダルが閉じる | High | pending | AC-MDL-102 |

---

#### 5.2.18 ConfirmModal コンポーネント

**テストケース:**

| テストID | テスト項目 | 前提条件 | 入力/操作 | 期待値 | 優先度 | 実装状況 | 対応AC |
|---------|---------|---------|---------|--------|--------|--------|--------|
| TC-CM-001 | タイトルの表示 | - | `title="拠点削除確認"` を設定 | 確認タイトルが表示される | High | pending | AC-CM-001 |
| TC-CM-002 | メッセージの表示 | - | `message="この操作は取り消せません"` を設定 | 確認メッセージが表示される | High | pending | AC-CM-002 |
| TC-CM-003 | 警告アイコンの表示 | - | - | 警告アイコン（fa-exclamation-triangle）が `bg-red-100 text-red-600` で表示される | High | pending | AC-CM-003 |
| TC-CM-004 | 確認入力フィールドの表示 | - | `confirmText="DELETE"` を設定 | 入力確認フィールドが表示される | High | pending | AC-CM-004 |
| TC-CM-005 | 確認入力フィールド非表示 | - | `confirmText` 未設定 | 入力確認フィールドは表示されない | Medium | pending | AC-CM-005 |
| TC-CM-006 | キャンセルボタンのクリック | `confirmOpen=true` | キャンセルボタンをクリック | モーダルが閉じる | High | pending | AC-CM-101 |
| TC-CM-007 | 入力不一致時のボタン無効化 | `confirmText="DELETE"` | 入力値が「DEL」 | アクションボタンが無効化される | High | pending | AC-CM-301 |
| TC-CM-008 | 入力一致時のボタン有効化 | `confirmText="DELETE"` | 入力値が「DELETE」 | アクションボタンが有効化される | High | pending | AC-CM-302 |
| TC-CM-009 | アクションボタンのクリック | 入力値一致 | アクションボタンをクリック | 削除処理が実行される | High | pending | AC-CM-303 |

---

#### 5.2.19 AppLayout コンポーネント

**テストケース:**

| テストID | テスト項目 | 前提条件 | 入力/操作 | 期待値 | 優先度 | 実装状況 | 対応AC |
|---------|---------|---------|---------|--------|--------|--------|--------|
| TC-AL-001 | タイトルの表示 | - | `title="ダッシュボード"` を設定 | PageHeaderにタイトルが表示される | High | pending | AC-AL-001 |
| TC-AL-002 | 説明文の表示 | - | `description="システム概要"` を設定 | PageHeaderに説明文が表示される | Medium | pending | AC-AL-002 |
| TC-AL-003 | メインコンテンツの表示 | - | Slot `default` を設定 | メインコンテンツエリアに内容が表示される | High | pending | AC-AL-003 |
| TC-AL-004 | Sidebarコンポーネントの包含 | - | - | Sidebarコンポーネントが含まれている | High | pending | AC-AL-004 |
| TC-AL-005 | MobileHeaderコンポーネントの包含 | - | - | MobileHeaderコンポーネントが含まれている | High | pending | AC-AL-005 |
| TC-AL-006 | デスクトップでのSidebar常時表示 | デスクトップ（lg以上） | - | Sidebarが常時表示される（`lg:static`） | High | pending | AC-AL-501 |
| TC-AL-007 | モバイルでのMobileHeader表示 | モバイル（lg未満） | - | MobileHeaderが表示される（`lg:hidden`） | High | pending | AC-AL-502 |

---

#### 5.2.20 Sidebar コンポーネント

**テストケース:**

| テストID | テスト項目 | 前提条件 | 入力/操作 | 期待値 | 優先度 | 実装状況 | 対応AC |
|---------|---------|---------|---------|--------|--------|--------|--------|
| TC-SB-001 | ロゴの表示 | - | - | ロゴエリアに「Gateway Admin」が表示される | High | pending | AC-SB-001 |
| TC-SB-002 | ロゴアイコンの表示 | - | - | ロゴアイコン（fa-network-wired）が表示される | Medium | pending | AC-SB-002 |
| TC-SB-003 | ナビゲーション項目の表示 | - | Slot `navigation` を設定 | ナビゲーション項目が表示される | High | pending | AC-SB-003 |
| TC-SB-004 | モバイルでのオーバーレイクリック | `sidebarOpen=true`, モバイル | オーバーレイをクリック | サイドバーが閉じる（`sidebarOpen = false`） | High | pending | AC-SB-101 |
| TC-SB-005 | デスクトップでの常時表示 | デスクトップ（lg以上） | - | サイドバーが常時表示される（`lg:static lg:translate-x-0`） | High | pending | AC-SB-501 |
| TC-SB-006 | モバイルでの非表示 | `sidebarOpen=false`, モバイル | - | サイドバーが画面外に隠れる（`-translate-x-full`） | High | pending | AC-SB-502 |
| TC-SB-007 | モバイルでのスライドイン | `sidebarOpen=true`, モバイル | - | サイドバーがスライドインする（`translate-x-0`） | High | pending | AC-SB-503 |
| TC-SB-008 | サイドバー幅の固定 | - | - | サイドバーが `w-64` で表示される | Medium | pending | AC-SB-504 |
| TC-SB-009 | モバイルでのオーバーレイ表示 | `sidebarOpen=true`, モバイル | - | 半透明オーバーレイ（`bg-gray-900/50`）が表示される | Medium | pending | AC-SB-505 |

---

#### 5.2.21 PageHeader コンポーネント

**テストケース:**

| テストID | テスト項目 | 前提条件 | 入力/操作 | 期待値 | 優先度 | 実装状況 | 対応AC |
|---------|---------|---------|---------|--------|--------|--------|--------|
| TC-PH-001 | タイトルの表示 | - | `title="拠点一覧"` を設定 | ページタイトルが `text-xl font-bold` で表示される | High | pending | AC-PH-001 |
| TC-PH-002 | 説明文の表示 | - | `description="登録拠点の一覧"` を設定 | 説明文が `text-xs text-gray-500` で表示される | Medium | pending | AC-PH-002 |
| TC-PH-003 | アクションボタンの表示 | - | Slot `actions` を設定 | 右側にアクションボタン群が表示される | Medium | pending | AC-PH-003 |
| TC-PH-004 | 説明文未設定時の非表示 | - | `description` 未設定 | 説明文は表示されない | Medium | pending | AC-PH-401 |

---

#### 5.2.22 NavItem コンポーネント

**テストケース:**

| テストID | テスト項目 | 前提条件 | 入力/操作 | 期待値 | 優先度 | 実装状況 | 対応AC |
|---------|---------|---------|---------|--------|--------|--------|--------|
| TC-NI-001 | リンク先の設定 | - | `href="/admin/teams"` を設定 | リンク先が設定される | High | pending | AC-NI-001 |
| TC-NI-002 | アイコンの表示 | - | `icon="fa-building"` を設定 | FontAwesomeアイコンが表示される | High | pending | AC-NI-002 |
| TC-NI-003 | ラベルの表示 | - | `label="拠点・ユーザー管理"` を設定 | メニュー名が表示される | High | pending | AC-NI-003 |
| TC-NI-004 | 非アクティブ状態の表示 | - | `active=false` を設定 | `text-gray-600` と `hover:bg-gray-50` が適用される | High | pending | AC-NI-004 |
| TC-NI-005 | アクティブ状態の表示 | - | `active=true` を設定 | `bg-indigo-50 text-indigo-700` が適用される | High | pending | AC-NI-005 |
| TC-NI-006 | ホバー時のテキスト色 | - | 非アクティブ状態でホバー | テキスト色が `hover:text-gray-900` になる | Medium | pending | AC-NI-006 |

---

#### 5.2.23 Breadcrumb コンポーネント

**テストケース:**

| テストID | テスト項目 | 前提条件 | 入力/操作 | 期待値 | 優先度 | 実装状況 | 対応AC |
|---------|---------|---------|---------|--------|--------|--------|--------|
| TC-BC-001 | アイテムの表示 | - | `items=[{href: '/admin', label: 'ホーム'}, {href: null, label: '拠点'}]` を設定 | すべてのアイテムが表示される | High | pending | AC-BC-001 |
| TC-BC-002 | 最初のアイテムのリンク | - | `items` の最初がリンク | 最初のアイテムがリンクとして表示される | High | pending | AC-BC-002 |
| TC-BC-003 | 最後のアイテムの現在地表示 | - | `items` の最後 | 最後のアイテムが現在地（リンクなし）として表示される | High | pending | AC-BC-003 |
| TC-BC-004 | 区切り記号の表示 | - | `items` が2個以上 | 区切り記号として `fa-chevron-right` が表示される | Medium | pending | AC-BC-005 |
| TC-BC-005 | 中間アイテムのリンク表示 | - | `items` に3個以上のアイテム | 中間のアイテムがリンクとして表示される | High | pending | AC-BC-004 |
| TC-BC-006 | 単一アイテム時の区切り記号非表示 | - | `items` が1個のみ | 区切り記号は表示されない | Medium | pending | AC-BC-401 |

---

#### 5.2.24 AlertBanner コンポーネント

**テストケース:**

| テストID | テスト項目 | 前提条件 | 入力/操作 | 期待値 | 優先度 | 実装状況 | 対応AC |
|---------|---------|---------|---------|--------|--------|--------|--------|
| TC-AB-001 | Warning タイプの表示 | - | `type="warning"`, `message="注意が必要です"` を設定 | `bg-yellow-50 border-yellow-400` が適用され、アイコンが `fa-exclamation-triangle` になる | High | pending | AC-AB-001 |
| TC-AB-002 | Error タイプの表示 | - | `type="error"`, `message="エラーが発生しました"` を設定 | `bg-red-50 border-red-400` が適用され、アイコンが `fa-exclamation-circle` になる | High | pending | AC-AB-002 |
| TC-AB-003 | Info タイプの表示 | - | `type="info"`, `message="情報があります"` を設定 | `bg-blue-50 border-blue-400` が適用され、アイコンが `fa-info-circle` になる | Medium | pending | AC-AB-003 |
| TC-AB-004 | Success タイプの表示 | - | `type="success"`, `message="成功しました"` を設定 | `bg-green-50 border-green-400` が適用され、アイコンが `fa-check-circle` になる | Medium | pending | AC-AB-004 |
| TC-AB-005 | タイトルの表示 | - | `title="警告"` を設定 | タイトルが `font-bold` で表示される | Medium | pending | AC-AB-005 |
| TC-AB-006 | 閉じるボタンの表示 | - | `dismissible=true` を設定 | 閉じるボタンが表示される | Medium | pending | AC-AB-007 |
| TC-AB-007 | 閉じるボタンのクリック | `dismissible=true` | 閉じるボタンをクリック | バナーが非表示になる | Medium | pending | AC-AB-101 |

---

#### 5.2.25 Toast コンポーネント

**テストケース:**

| テストID | テスト項目 | 前提条件 | 入力/操作 | 期待値 | 優先度 | 実装状況 | 対応AC |
|---------|---------|---------|---------|--------|--------|--------|--------|
| TC-T-001 | Success タイプの表示 | - | `type="success"`, `message="保存しました"` を設定 | `bg-green-600 text-white` が適用され、アイコンが `fa-check-circle` になる | High | pending | AC-T-001 |
| TC-T-002 | Error タイプの表示 | - | `type="error"`, `message="エラーが発生しました"` を設定 | `bg-red-600 text-white` が適用され、アイコンが `fa-exclamation-circle` になる | High | pending | AC-T-002 |
| TC-T-003 | Livewire イベント受信 | - | Livewire `dispatch('toast', type: 'success', message: '成功')` 発火 | トーストが表示される | High | pending | AC-T-201 |
| TC-T-004 | 自動非表示 | トースト表示中 | 3秒待機 | トーストが自動的に非表示になる | Medium | pending | AC-T-202 |

---

## 6. テスト実装優先度

### 6.1 優先度別ケース数

| 優先度 | ケース数（概算） | 割合 |
|--------|----------------|------|
| High | 約155ケース | 59.6% |
| Medium | 約77ケース | 29.6% |
| Low | 約28ケース | 10.8% |
| **合計** | **約260ケース** | **100%** |

### 6.2 Phase別実装計画

#### Phase 1（Week 1-2）: High優先度コンポーネント

**対象コンポーネント:**
- Button（13ケース）
- IconButton（7ケース）
- TextInput（9ケース）
- SelectInput（5ケース）
- ToggleSwitch（6ケース）
- Modal（6ケース）
- ConfirmModal（9ケース）
- DataTable（5ケース）
- Pagination（9ケース）
- ProgressBar（7ケース）
- StatusBadge（4ケース）
- EmptyState（4ケース）
- ApiKeyField（8ケース）

**合計:** 約92ケース（High優先度のみ）

#### Phase 2（Week 3-4）: Medium優先度 + 残りのHigh

**対象コンポーネント:**
- AppLayout（3ケース）
- Sidebar（7ケース）
- PageHeader（3ケース）
- NavItem（5ケース）
- Breadcrumb（4ケース）
- KpiCard（8ケース）
- Textarea（5ケース）
- MonthInput（4ケース）
- SearchBar（7ケース）
- FileDropzone（9ケース）
- AlertBanner（7ケース）
- Toast（4ケース）

**合計:** 約66ケース（残りのHigh + Medium優先度）

#### Phase 3（Week 5-6）: Low優先度 + 補完

**対象コンポーネント:**
- 全コンポーネントのLow優先度ケース
- エッジケース
- 追加的なインテグレーションテスト

**合計:** 約28ケース（Low優先度）

### 6.3 コンポーネント別優先度マトリクス

| コンポーネント | High | Medium | Low | 合計 | Phase |
|--------------|------|--------|-----|------|-------|
| Button | 6 | 5 | 2 | 13 | 1 |
| IconButton | 4 | 2 | 1 | 7 | 1 |
| TextInput | 6 | 2 | 1 | 9 | 1 |
| SelectInput | 4 | 1 | 0 | 5 | 1 |
| ToggleSwitch | 4 | 1 | 1 | 6 | 1 |
| Textarea | 3 | 2 | 0 | 5 | 2 |
| MonthInput | 3 | 1 | 0 | 4 | 2 |
| SearchBar | 3 | 4 | 0 | 7 | 2 |
| FileDropzone | 6 | 2 | 1 | 9 | 2 |
| ApiKeyField | 6 | 1 | 1 | 8 | 1 |
| DataTable | 3 | 2 | 0 | 5 | 1 |
| Pagination | 7 | 2 | 0 | 9 | 1 |
| KpiCard | 4 | 3 | 1 | 8 | 2 |
| ProgressBar | 6 | 1 | 0 | 7 | 1 |
| StatusBadge | 3 | 1 | 0 | 4 | 1 |
| EmptyState | 2 | 2 | 0 | 4 | 1 |
| Modal | 5 | 1 | 0 | 6 | 1 |
| ConfirmModal | 7 | 2 | 0 | 9 | 1 |
| AppLayout | 2 | 1 | 0 | 3 | 2 |
| Sidebar | 5 | 1 | 1 | 7 | 2 |
| PageHeader | 2 | 1 | 0 | 3 | 2 |
| NavItem | 4 | 1 | 0 | 5 | 2 |
| Breadcrumb | 3 | 1 | 0 | 4 | 2 |
| AlertBanner | 4 | 3 | 0 | 7 | 2 |
| Toast | 3 | 1 | 0 | 4 | 2 |
| **合計** | **104** | **43** | **9** | **156** | - |

**注:** 上記は主要テストケース数。セクション5.2の詳細テストケース表では、High優先度のみの抽出により総数が約260ケースとなっています。

---

## 7. テスト実装ガイド

### 7.1 Blade表示テストの書き方

#### 基本パターン

```php
<?php

namespace Tests\Unit\Components;

use Tests\TestCase;

class ButtonTest extends TestCase
{
    public function test_button_renders_with_primary_variant(): void
    {
        $view = $this->blade(
            '<x-ui.button variant="primary">保存</x-ui.button>'
        );

        $view->assertSee('保存');
        $view->assertSee('bg-indigo-600', false);
    }

    public function test_button_renders_with_disabled_state(): void
    {
        $view = $this->blade(
            '<x-ui.button :disabled="true">保存</x-ui.button>'
        );

        $view->assertSee('opacity-50', false);
        $view->assertSee('cursor-not-allowed', false);
    }
}
```

#### アサーションのポイント

- `assertSee($text)`: テキストがHTML内に存在するか確認（HTMLエスケープされたテキスト）
- `assertSee($text, false)`: HTMLタグやクラスが存在するか確認（エスケープなし）
- `assertDontSee($text)`: テキストが存在しないことを確認

### 7.2 Livewire連携テストの書き方

#### Livewireコンポーネントテスト

```php
<?php

namespace Tests\Feature\Components;

use Tests\TestCase;
use Livewire\Livewire;
use App\Livewire\TeamEdit;

class ToggleSwitchTest extends TestCase
{
    public function test_toggle_switch_changes_state(): void
    {
        Livewire::test(TeamEdit::class)
            ->set('isActive', false)
            ->assertSee('bg-gray-200', false)
            ->set('isActive', true)
            ->assertSee('bg-indigo-600', false);
    }

    public function test_text_input_binds_with_livewire(): void
    {
        Livewire::test(TeamEdit::class)
            ->set('teamName', 'Initial')
            ->assertSet('teamName', 'Initial')
            ->call('updateTeamName', 'Updated')
            ->assertSet('teamName', 'Updated');
    }
}
```

#### アサーションのポイント

- `assertSet($property, $value)`: Livewireプロパティが指定値と一致するか確認
- `assertSee($text)`: レンダリング結果にテキストが含まれるか確認
- `call($method, ...$params)`: Livewireメソッドを呼び出し
- `set($property, $value)`: Livewireプロパティを設定

### 7.3 テストコード例

#### SearchBar のデバウンステスト

```php
public function test_search_bar_debounces_input(): void
{
    $component = Livewire::test(TeamList::class);

    // 初期状態
    $component->assertSet('search', '');

    // 入力を設定（デバウンス付き）
    $component->set('search', 'Tokyo');

    // デバウンス期間中は検索が実行されない
    // （実際のテストでは時間待機をシミュレート）

    // デバウンス後、検索が実行される
    $component->assertSet('search', 'Tokyo');
    $component->assertDispatched('search-updated');
}

public function test_search_bar_cancels_previous_debounce(): void
{
    $component = Livewire::test(TeamList::class);

    // 連続して入力を変更
    $component->set('search', 'T');
    $component->set('search', 'To');
    $component->set('search', 'Tok');
    $component->set('search', 'Tokyo');

    // 最後の入力値のみが検索に使用される
    $component->assertSet('search', 'Tokyo');
}
```

#### FileDropzone のバリデーションテスト

```php
public function test_file_dropzone_validates_csv_format(): void
{
    $component = Livewire::test(CsvImport::class);

    // 非対応ファイル形式
    $file = UploadedFile::fake()->create('document.txt', 100);
    $component->set('uploadedFile', $file);
    $component->assertSee('対応形式はCSVのみです');

    // サイズ超過
    $file = UploadedFile::fake()->create('large.csv', 11000); // 11MB
    $component->set('uploadedFile', $file);
    $component->assertSee('最大10MBまで');
}
```

#### Modal の開閉テスト（Alpine.js連携）

```php
public function test_modal_opens_and_closes(): void
{
    $view = $this->blade(
        '<div x-data="{ open: false }">
            <button @click="open = true">Open</button>
            <x-ui.modal title="Test Modal" />
        </div>'
    );

    // 初期状態では非表示
    $view->assertSee('x-show="open"', false);

    // Alpine.jsの動作はBrowserテスト（Dusk）でカバー
}
```

#### Pagination のエッジケーステスト

```php
public function test_pagination_disables_previous_on_first_page(): void
{
    $view = $this->blade(
        '<x-ui.pagination
            :current-page="1"
            :total-pages="10"
            :total="100"
            :from="1"
            :to="10" />'
    );

    $view->assertSee('disabled', false); // 前へボタンが無効化
}

public function test_pagination_disables_next_on_last_page(): void
{
    $view = $this->blade(
        '<x-ui.pagination
            :current-page="10"
            :total-pages="10"
            :total="100"
            :from="91"
            :to="100" />'
    );

    $view->assertSee('disabled', false); // 次へボタンが無効化
}
```

---

## 8. 付録

### 8.1 テストIDマトリクス（全ケース一覧）

| コンポーネント | テストID範囲 | 総ケース数 |
|--------------|------------|----------|
| Button | TC-BTN-001 ~ TC-BTN-013 | 13 |
| IconButton | TC-IBTN-001 ~ TC-IBTN-007 | 7 |
| TextInput | TC-TI-001 ~ TC-TI-009 | 9 |
| SelectInput | TC-SEL-001 ~ TC-SEL-005 | 5 |
| ToggleSwitch | TC-TGL-001 ~ TC-TGL-006 | 6 |
| Textarea | TC-TA-001 ~ TC-TA-005 | 5 |
| MonthInput | TC-MI-001 ~ TC-MI-004 | 4 |
| SearchBar | TC-SB-001 ~ TC-SB-007 | 7 |
| FileDropzone | TC-FD-001 ~ TC-FD-009 | 9 |
| ApiKeyField | TC-AK-001 ~ TC-AK-008 | 8 |
| DataTable | TC-TBL-001 ~ TC-TBL-005 | 5 |
| Pagination | TC-PG-001 ~ TC-PG-009 | 9 |
| KpiCard | TC-KPI-001 ~ TC-KPI-008 | 8 |
| ProgressBar | TC-PB-001 ~ TC-PB-007 | 7 |
| StatusBadge | TC-SB-001 ~ TC-SB-004 | 4 |
| EmptyState | TC-ES-001 ~ TC-ES-004 | 4 |
| Modal | TC-MDL-001 ~ TC-MDL-006 | 6 |
| ConfirmModal | TC-CM-001 ~ TC-CM-009 | 9 |
| AppLayout | TC-AL-001 ~ TC-AL-003 | 3 |
| Sidebar | TC-SB-001 ~ TC-SB-007 | 7 |
| PageHeader | TC-PH-001 ~ TC-PH-003 | 3 |
| NavItem | TC-NI-001 ~ TC-NI-005 | 5 |
| Breadcrumb | TC-BC-001 ~ TC-BC-004 | 4 |
| AlertBanner | TC-AB-001 ~ TC-AB-007 | 7 |
| Toast | TC-T-001 ~ TC-T-004 | 4 |
| **合計** | - | **156** |

**注:** 上記は主要テストケースのみ。受入条件（AC）に基づく詳細ケースを含めると約260ケースになります。

### 8.2 コンポーネント略称一覧

| コンポーネント | 略称 | 使用例 |
|--------------|------|--------|
| Button | BTN | AC-BTN-001, TC-BTN-001 |
| IconButton | IBTN | AC-IBTN-001, TC-IBTN-001 |
| TextInput | TI | AC-TI-001, TC-TI-001 |
| SelectInput | SEL | AC-SEL-001, TC-SEL-001 |
| ToggleSwitch | TGL | AC-TGL-001, TC-TGL-001 |
| Textarea | TA | AC-TA-001, TC-TA-001 |
| MonthInput | MI | AC-MI-001, TC-MI-001 |
| SearchBar | SB | AC-SB-001, TC-SB-001 |
| FileDropzone | FD | AC-FD-001, TC-FD-001 |
| ApiKeyField | AK | AC-AK-001, TC-AK-001 |
| DataTable | TBL | AC-TBL-001, TC-TBL-001 |
| Pagination | PG | AC-PG-001, TC-PG-001 |
| KpiCard | KPI | AC-KPI-001, TC-KPI-001 |
| ProgressBar | PB | AC-PB-001, TC-PB-001 |
| StatusBadge | SB | AC-SB-001, TC-SB-001 |
| EmptyState | ES | AC-ES-001, TC-ES-001 |
| Modal | MDL | AC-MDL-001, TC-MDL-001 |
| ConfirmModal | CM | AC-CM-001, TC-CM-001 |
| AppLayout | AL | AC-AL-001, TC-AL-001 |
| Sidebar | SB | AC-SB-001, TC-SB-001 |
| PageHeader | PH | AC-PH-001, TC-PH-001 |
| NavItem | NI | AC-NI-001, TC-NI-001 |
| Breadcrumb | BC | AC-BC-001, TC-BC-001 |
| AlertBanner | AB | AC-AB-001, TC-AB-001 |
| Toast | T | AC-T-001, TC-T-001 |

### 8.3 参照ドキュメント

#### プロジェクト内ドキュメント

- **要件定義書:** `.claude/01_development_docs/01_要件定義書.md`
- **機能一覧:** `.claude/01_development_docs/02_画面一覧・機能一覧定義書.md`
- **UI設計目次:** `.claude/02_ui_design/README.md`
- **デザイントークン:** `.claude/02_ui_design/_design_tokens.md`
- **コンポーネント仕様:**
  - `.claude/02_ui_design/components/buttons.md`
  - `.claude/02_ui_design/components/forms.md`
  - `.claude/02_ui_design/components/data-display.md`
  - `.claude/02_ui_design/components/modals.md`
  - `.claude/02_ui_design/components/layout.md`
  - `.claude/02_ui_design/components/navigation.md`
  - `.claude/02_ui_design/components/feedback.md`
- **HTMLモック:** `.claude/02_ui_design/mocks/`

#### 外部リソース

- **Laravel Testing:** https://laravel.com/docs/12.x/testing
- **Livewire Testing:** https://livewire.laravel.com/docs/testing
- **PHPUnit:** https://phpunit.de/documentation.html
- **Tailwind CSS:** https://tailwindcss.com/docs

---

**ドキュメント作成日:** 2026-02-10
**バージョン:** 1.0
**作成者:** Claude Sonnet 4.5
